# HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

## ====================
## ROLE: EMPLOYEE (SELF-SERVICE)
## ====================

### Subsystem: Employee Profile Management
**Requirements:**
1. Employee Self-Service (View, Photo Update, Request Correction)
   - **User Stories:**
     - US-E2-04: As an employee, I want to view my full employee profile.
     - US-E2-05: As an employee, I want to update my contact information (e.g., phone number, address).
     - US-E2-12: As an employee, I want to add a short biography and upload a profile picture.
     - US-E6-02: As an employee, I want to request corrections of data (e.g., job title or department).
   - **Business Rules:**
     - BR 2g, 2n, 2o: Address, Phone, Email requirement
     - BR 3h: Education Details storage requirement
     - BR 16: Appraisal records saved on profile
     - BR 20a: Only authorized roles can modify data
   - **Inputs from Other Sub-Systems:**
     - Performance Module: Appraisal history (Date, Type, Score)
     - Organizational Structure: Employee's assigned Position and Department
   - **Downstream Dependencies:**
     - Organizational Structure: If correction request involves Position/Department, triggers update/review
     - HR Admin/Manager Roles: All requests feed into approval queue

**Actions/Processes:**
1. View Personal Profile (Self-Service)
   - **Actor:** Employee
   - **Process:** Secure access, authentication, and retrieval of PII, employment details
   - **Supporting:**
     - US-E2-04: View full employee profile
     - BR 2a-r: System must record specific personal and job data
     - NFR-14: All users shall authenticate via secure login and role-based access control
   - **Outputs:** Display of Employee Profile data (Name, ID, Status, Pay Grade, etc.)
   - **Data Flow:** Retrieves Appraisal history from Performance module

2. Update Self-Service Data (Immediate Update)
   - **Actor:** Department Employee
   - **Process:** Direct modification and saving of non-critical data points
   - **Supporting:**
     - US-E2-12: Upload profile picture
     - US-E2-05: Update contact information
     - BR 2n, 2o, 2g: Requirements for Phone, Email, and Address data
   - **Output:** Update Employee Profile Master Data
   - **Data Flow:** Triggers Notification N-037 (Profile updated) to employee & HR. All actions traced per BR 22

3. Submit Request for Correction/Change
   - **Actor:** Department Employee
   - **Process:** Submission of formal request to modify critical, HR-governed data
   - **Supporting:**
     - US-E6-02: Request corrections of data
     - US-E2-06: Submit requests to change legal name or marital status
     - BR 20a: Only authorized roles can create and/or modify profile data
   - **Output:** Creation of Pending Change Request record
   - **Data Flow:** Notification N-040 (Profile change request submitted) sent to HR/Manager

## ====================
## ROLE: DEPARTMENT MANAGER
## ====================

### Subsystem: Team Management & Insight
**Requirements:**
2. Department Manager View (Insight & Brief of Team)
   - **User Stories:**
     - US-E4-01: As a manager, I want to view my team members' profiles (excluding sensitive info)
     - US-E4-02: As a manager, I want to see a summary of my team's job titles, and departments
     - US-E6-03: As an HR Admin, I want to be able to search for employees data
   - **Business Rules:**
     - BR 3d, 3e: Department/Supervisor links required
     - BR 10c: Pay Grade/Band definition
     - BR 18b: Privacy restrictions applied for Line Managers on sensitive data
     - BR 41b: Direct Managers see their team only
   - **Inputs from Other Sub-Systems:**
     - Organizational Structure: Defines direct supervisor/reporting line by position
   - **Downstream Dependencies:**
     - Performance Module: Manager's review supports initiating performance reviews

**Actions/Processes:**
4. View Team Brief (Manager Insight)
   - **Actor:** Department Manager
   - **Process:** Secure access to team list, displaying non-sensitive, summarized profile data
   - **Supporting:**
     - US-E4-01: View team members' profiles (excluding sensitive info)
     - US-E4-02: See summary of team's job titles and departments
     - BR 41b: Direct Managers see their team only
     - BR 18b: Privacy restrictions for Department Managers on sensitive data
   - **Output:** Display of summarized team list (Name, Position, Department, Date of Hire, Status)
   - **Data Flow:** Retrieves team structure from Organizational Structure Module

## ====================
## ROLE: HR MANAGER / SYSTEM ADMIN
## ====================

### Subsystem: Master Data Management & Access Control
**Requirements:**
3. HR Manager/System Admin (Master Data Management & Approval)
   - **User Stories:**
     - US-EP-04: As an HR admin, I want to edit any part of an employee's profile
     - US-E2-03: As an HR admin, I want to review and approve employee-submitted profile changes
     - US-EP-05: As an HR admin, I want to deactivate an employee's profile upon termination or resignation
     - US-E7-05: As an HR admin, I want to assign roles and access permissions to each employee
   - **Business Rules:**
     - BR 20a: Only authorized roles can create/modify data
     - BR 3j: Employee status controls system access
     - BR 3b, 3f, 3g: Date of Hire, Contract Type requirements
     - BR 22: Trace all editing, changes, and cancellations in timestamped trail
   - **Inputs from Other Sub-Systems:**
     - Onboarding Module: Creates employee profile upon contract signing
     - Leaves/Offboarding Module: Sets Current Status field (Active, Suspended, Retired, etc.)
   - **Downstream Dependencies:**
     - Payroll & Benefits Module: Updates impact payroll calculations and payment blocking
     - Time Management Module: Status updates must sync to time tracking

**Actions/Processes:**
5. Review and Process Change Request
   - **Actor:** HR Manager, HR Admin
   - **Process:** Review pending change request, validate compliance, approve or reject
   - **Supporting:**
     - US-E2-03: Review and approve employee-submitted profile changes
     - US-E7-04: Configure workflow rules
     - BR 36: All changes must be made via workflow approval
     - BR 22: Traces all changes in timestamped trail
   - **Output:**
     - If Approved: Update Employee Profile Master Data
     - If change affects hierarchy: Trigger update/request in Organizational Structure Module
     - If Rejected: Status updated to "Rejected"
   - **Data Flow:** Notification N-037 (Profile updated/rejected) sent to employee

6. Master Data Edit/Management
   - **Actor:** HR Manager, HR Admin
   - **Process:** Direct access to edit/modify any employee profile field and configure system rules
   - **Supporting:**
     - US-EP-04: Edit any part of an employee's profile
     - US-E7-05: Assign roles and access permissions
     - BR 3j: Employee status controls system access
     - BR 20a: Only authorized roles can create/modify profile data
   - **Output:** Direct update to Employee Profile Master Data
   - **Data Flow:**
     - Status changes: Synchronize to Payroll (block payment) and Time Management
     - Pay Grade changes: Automatically update salary/payroll module




# HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

## ====================
## ROLE: SYSTEM ADMIN
## ====================

### Subsystem: Structure Creation & Update
**Requirements:**
1. Structure Creation & Update
   - **User Stories:**
     - REQ-OSM-01: As a System Admin, I want to define and create departments, and positions.
     - REQ-OSM-02: As a System Admin, I want to update existing departments, and positions.
   - **Business Rules:**
     - BR 5: Unique ID for entities
     - BR 10: Position must have Job Key, Pay Grade, Dept ID
     - BR 30: Creation requires Cost Center and Reporting Manager
   - **Inputs from Other Sub-Systems:**
     - Payroll/Benefits: To define and validate Pay Grades/Pay Scales for positions
     - Employee Profile (EP): For linking positions to the Employee No./Person who fills them
   - **Downstream Dependencies:**
     - Employee Profile (EP): Receives structural changes like position/reporting line updates
     - Payroll & Benefits: Receives Cost Center and Wage Type linkage for calculation

### Subsystem: Structure Deactivation
**Requirements:**
2. Structure Deactivation
   - **User Stories:**
     - REQ-OSM-05: As a System Admin, I want to deactivate or remove obsolete roles or positions, so that the organizational structure stays clean and up-to-date.
   - **Business Rules:**
     - BR 12: Positions cannot be deleted if historical employee assignments exist; they can only be delimited
     - BR 16: Position status includes Frozen/Inactive
     - BR 37: Historical records must be preserved using delimiting
   - **Inputs from Other Sub-Systems:** None (Action is on internal OS data)
   - **Downstream Dependencies:**
     - Recruitment: Vacant/Frozen positions flagged for posting status
     - Offboarding: Position is delimited upon exit

### Subsystem: Hierarchy Change Notification
**Requirements:**
3. Hierarchy Change Notification
   - **User Stories:**
     - REQ-OSM-11: As a System Admin, I want the system to notify managers and relevant stakeholders when a structural change occurs or is approved according to hierarchy.
   - **Business Rules:**
     - BR 22: Changes must retain version history and audit logs with timestamp and user ID
   - **Inputs from Other Sub-Systems:** None (Uses internal OS approval data)
   - **Downstream Dependencies:** None

### Subsystem: Request Review & Approval
**Requirements:**
4. Request Review & Approval
   - **User Stories:**
     - REQ-OSM-04: As a System Admin, I want to review and approve manager requests for changes, so that modifications to the hierarchy are controlled and consistent.
   - **Business Rules:**
     - BR 36: All changes must be made via workflow approval
     - REQ-OSM-09: The process enforces validation rules to prevent circular reporting lines, duplicate positions, or mismatched department assignments
   - **Inputs from Other Sub-Systems:**
     - Employee Profile (EP) data: Changes to reporting line or position updates sometimes originate from profile updates or require fetching current employee details
     - Organizational Structure (OS): Current position details and reporting lines, which the manager intends to modify
   - **Downstream Dependencies:**
     - Organizational Structure (OS): The request is saved in the pending approval queue, triggering
     - Notifications (N): An alert is sent to the System Admin (or relevant approver) that a "Change request submitted"

**Actions/Processes:**
1. Define and Create Department or Position (Structural Request)
   - **Actor:** System Admin
   - **Process:** Defines and creates the organizational entities (department, position) to structurally accommodate the new role within the hierarchy
   - **Supporting:**
     - REQ-OSM-01
     - BR 10: Position must have Position ID, Pay Grade, Dept ID
   - **Output:** Vacant Position created in Organizational Structure (OS). Position automatically flagged as vacant for recruitment.

2. Edit a Position
   - **Actor:** System Admin
   - **Process:** Direct Update/Maintenance: The System Admin can directly update existing departments and positions. The System Admin can also receive a notification from a Head of Department requesting a change.
   - **Supporting:**
     - REQ-OSM-02: Update existing departments and positions
   - **Output:** System Synchronization: Approved structural changes are immediately applied to the hierarchy in Organizational Structure (OS).

3. Deactivate A Position
   - **Actor:** System Admin
   - **Process:** The System Admin may deactivate or remove obsolete positions, although positions with historical assignments can only be "delimited" rather than deleted outright
   - **Supporting:**
     - REQ-OSM-05
     - BR 12: Positions cannot be deleted if historical employee assignments exist
     - BR 37: Historical records must be preserved using delimiting
   - **Output:** System Synchronization: Approved structural changes are immediately applied to the hierarchy in Organizational Structure (OS).

## ====================
## ROLE: EMPLOYEE
## ====================

### Subsystem: Structure Access & Visibility
**Requirements:**
5. Structure Access & Visibility
   - **User Stories:**
     - REQ-SANV-01: As an Employee, I want to view the organizational hierarchy.
   - **Business Rules:**
     - BR 24: Organizational structure must be viewable as a graphical chart
     - BR 41: Access must be role-based, where Direct Managers see their team only and Employees see their own structure
   - **Inputs from Other Sub-Systems:**
     - Employee Profile (EP): Provides the individual's data—the "Person" who fills the position—to display alongside the position
   - **Downstream Dependencies:** None

## ====================
## ROLE: MANAGER
## ====================

### Subsystem: Structure Access & Visibility
**Requirements:**
6. Structure Access & Visibility (Manager View)
   - **User Stories:**
     - REQ-SANV-02: As a Manager, I want to view my team's structure and reporting lines.
   - **Business Rules:**
     - BR 24: Organizational structure must be viewable as a graphical chart
     - BR 41: Access must be role-based, where Direct Managers see their team only and Employees see their own structure
   - **Inputs from Other Sub-Systems:**
     - Employee Profile (EP): Provides the individual's data—the "Person" who fills the position—to display alongside the position
   - **Downstream Dependencies:** None

### Subsystem: Department Position Request
**Requirements:**
7. Receive a Request for a new Position in the Department
   - **User Stories:**
     - REQ-OSM-03: As a Manager, I want to submit requests for changes to the team assignments, so that team structures reflect actual work relationships.
   - **Business Rules:**
     - BR 36: All changes must be made via workflow approval
     - REQ-OSM-09: The process enforces validation rules to prevent circular reporting lines, duplicate positions, or mismatched department assignments
   - **Inputs from Other Sub-Systems:**
     - Employee Profile (EP) data: Changes to reporting line or position updates sometimes originate from profile updates or require fetching current employee details
     - Organizational Structure (OS): Current position details and reporting lines, which the manager intends to modify
   - **Downstream Dependencies:**
     - Organizational Structure (OS): The request is saved in the pending approval queue, triggering
     - Notifications (N): An alert is sent to the System Admin (or relevant approver) that a "Change request submitted"



     # HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
     ## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

     ## ====================
     ## ROLE: HR MANAGER
     ## ====================

     ### Subsystem: Template Definition
     **Requirements:**
     1. Template Definition
        - **User Stories:**
          - REQ-PP-01: As an HR Manager, I want to configure standardized appraisal templates and rating scales so that evaluations are consistent and fair.
        - **Business Rules:**
          - BR 14
          - BR 20
        - **Inputs from Other Sub-Systems:** None
        - **Downstream Dependencies:** None

     ### Subsystem: Cycle Creation
     **Requirements:**
     2. Cycle Creation
        - **User Stories:**
          - REQ-PP-02: As an HR Manager, I want to define and schedule appraisal cycles (annual, semi-annual, probationary) so that the process runs automatically and on time.
        - **Business Rules:**
          - BR 1
          - BR 10
          - BR 11
        - **Inputs from Other Sub-Systems:**
          - Employee Profile (EP): Probation dates, contract start/end dates for assignment
          - Organizational Structure (OS): Job classifications and grade levels
        - **Downstream Dependencies:**
          - Notifications: System triggers alerts for cycle dates

     ### Subsystem: HR Monitoring & Publication
     **Requirements:**
     3. HR Monitors Progress & Publishes
        - **User Stories:**
          - REQ-AE-10: As an HR Manager, I want a consolidated dashboard that tracks appraisal completion across departments and teams so I can quickly spot and act on department-level progress gaps.
        - **Business Rules:**
          - BR 11
          - BR 46
        - **Inputs from Other Sub-Systems:**
          - Organizational Structure (OS): Departmental grouping
        - **Downstream Dependencies:** None

     ### Subsystem: Dispute Resolution
     **Requirements:**
     4. HR Manager Resolves Objection
        - **User Stories:**
          - REQ-OD-07: As an HR Manager, I want to resolve disputes between employees and managers about ratings so that the appraisal process remains fair and transparent.
        - **Business Rules:**
          - BR 31
          - BR 32
        - **Inputs from Other Sub-Systems:**
          - Performance Management (PM): Dispute log
        - **Downstream Dependencies:**
          - Notifications: Dispute resolution notifications

     **Actions/Processes:**
     1. Template Definition
        - **Actor:** HR Manager
        - **Process:** Configures the standardized appraisal template, defining the rating scales, name, type, and assigning it to organizational units/departments
        - **Supporting:**
          - REQ-PP-01: Configure standardized appraisal templates and rating scales
        - **Output:** Standardized templates are created and saved for re-use

     7. HR Manager Dispute Resolution
        - **Actor:** HR Manager
        - **Process:** Resolves the dispute. Options: A) Deny Objection: The original rating is finalized and locked on the profile. B) Approve & Change: The rating is adjusted, and the new score is reflected on the profile.
        - **Supporting:**
          - REQ-OD-07: Resolve disputes between employees and managers about ratings
          - BR 32: Appeals must be reviewed by HR and outcomes must be logged in the system
        - **Output:** Final rating (original or changed) is officially logged in the PM module, updating the EP module accordingly

     ## ====================
     ## ROLE: HR EMPLOYEE
     ## ====================

     ### Subsystem: Assignment & Manager Access
     **Requirements:**
     5. Assignment & Manager Access
        - **User Stories:**
          - REQ-PP-05: As an HR Employee, I want to assign appraisal forms and templates to employees and managers in bulk so that setup is efficient.
          - REQ-AE-06: As an HR Employee, I want to monitor appraisal progress and send reminders for pending forms so the cycle completes on time.
        - **Business Rules:**
          - BR 22
          - BR 37(a)
          - BR 23
          - BR 36(b)
        - **Inputs from Other Sub-Systems:**
          - Employee Profile (EP): Employee list, Status
          - Organizational Structure (OS): Reviewer chain, reporting lines
        - **Downstream Dependencies:**
          - Notifications: Assignment alerts and reminder alerts

     **Actions/Processes:**
     2. Cycle Creation & Setup
        - **Actor:** HR Employee / HR Manager
        - **Process:** Defines and schedules the appraisal cycle (Name, Start Date, End Date) and subsequently assigns appraisal forms and templates to the relevant employees and managers (e.g., Line Manager) in bulk for efficiency
        - **Supporting:**
          - REQ-PP-02: Define and schedule appraisal cycles (used for defining dates/scope)
          - REQ-PP-05: Assign appraisal forms and templates to employees and managers in bulk
          - Input: Organizational Structure (OS) is needed for reviewer chain/reporting lines
        - **Output:** Cycle and template assignments are generated; notifications are sent to the assigned managers

     4. HR Monitoring & Publication
        - **Actor:** HR Employee / HR Manager
        - **Process:** The HR Manager tracks appraisal completion via a consolidated dashboard (REQ-AE-10) and the HR Employee monitors progress (REQ-AE-06). Once the department manager completes the forms, the HR Employee takes the step to publish the final rating to all department employees.
        - **Supporting:**
          - REQ-AE-10: Consolidated dashboard that tracks appraisal completion
          - REQ-AE-06: Monitor appraisal progress and send reminders
        - **Output:** Finalized appraisal record is created; employee receives notification (N-022)

     ## ====================
     ## ROLE: LINE MANAGER (HEAD OF DEPARTMENT)
     ## ====================

     ### Subsystem: Manager Access
     **Requirements:**
     6. Manager Access
        - **User Stories:**
          - REQ-PP-13: As a Line manager, I want to be able to view assigned appraisal forms to be able to effectively put goals that match it.
        - **Business Rules:**
          - BR 41(d)
        - **Inputs from Other Sub-Systems:**
          - Performance Management (PM): Assigned appraisal forms
        - **Downstream Dependencies:** None

     ### Subsystem: Manager Evaluation
     **Requirements:**
     7. Manager Fills Form
        - **User Stories:**
          - REQ-AE-03: As a Line Manager, I want to access and complete structured appraisal ratings for my direct reports so performance is evaluated consistently.
          - REQ-AE-04: As a Line Manager, I want to add comments, examples and development recommendations to each rating so feedback is contextual and actionable.
        - **Business Rules:**
          - BR 7(a), 8, 14, 21 (for REQ-AE-03)
          - BR 26, 33(d) (for REQ-AE-04)
        - **Inputs from Other Sub-Systems:**
          - Time Management (TM): Attendance and punctuality data
        - **Downstream Dependencies:**
          - Performance Management (PM): Manager ratings and scores

     **Actions/Processes:**
     3. Manager Evaluation
        - **Actor:** Line Manager aka Head of Department
        - **Process:** Views the assigned appraisal forms (REQ-PP-13) and accesses the system to complete structured appraisal ratings for their direct reports. The manager adds comments, examples, and development recommendations to provide contextual feedback (REQ-AE-04).
        - **Supporting:**
          - REQ-AE-03: Access and complete structured appraisal ratings for my direct reports
          - REQ-AE-04: Add comments, examples and development recommendations
          - Input: Time Management (TM) data (attendance and punctuality) may inform ratings
        - **Output:** Manager ratings and scores are recorded in the Performance Management (PM) module

     ## ====================
     ## ROLE: EMPLOYEE
     ## ====================

     ### Subsystem: Employee Receipt & Profile Update
     **Requirements:**
     8. Employee Receives Rating & Profile Update
        - **User Stories:**
          - REQ-OD-01: As an Employee, I want to view final ratings, feedback, and development notes so I understand my performance and next steps.
        - **Business Rules:**
          - BR 6, 27(a), 28
        - **Inputs from Other Sub-Systems:**
          - Performance Management (PM): Finalized appraisal record
        - **Downstream Dependencies:**
          - Employee Profile (EP): Record final score/rating
        - **Supporting Rule:** Employee Appraisals are saved on the profile, where information like appraisal date, method, rating scale and score are recorded. (BR 6)

     ### Subsystem: Objection Handling
     **Requirements:**
     9. Employee Objects
        - **User Stories:**
          - REQ-AE-07: As an Employee or HR Employee, I want to flag or raise a concern about a rating during the cycle so disputes can be recorded and handled timely.
        - **Business Rules:**
          - BR 31, 32
        - **Inputs from Other Sub-Systems:** None
        - **Downstream Dependencies:**
          - Performance Management (PM): Dispute log

     **Actions/Processes:**
     5. Employee Receipt & Profile Update
        - **Actor:** Employee
        - **Process:** Employee views the final ratings, feedback, and development notes (REQ-OD-01). The system automatically saves the appraisal details (date, method, rating scale, and score) onto the employee's permanent profile data.
        - **Supporting:**
          - REQ-OD-01: View final ratings, feedback, and development notes
          - BR 6: Employee Appraisals are saved on the profile, where information like appraisal date, method, rating scale and score are recorded
        - **Output:** Final score/rating is recorded in the Employee Profile (EP) module

     6. Objection Window (Decision Point)
        - **Actor:** Employee
        - **Process:** The employee may use the 7-day window to flag or raise a concern about the rating (REQ-AE-07) to record a dispute.
        - **Supporting:**
          - REQ-AE-07: Flag or raise a concern about a rating during the cycle
          - BR 31: Employees have the right to file a formal appeal within a pre-set time window after receiving an appraisal's outcome
        - **Output:** Dispute record is created in the PM module. If no objection is filed, the process proceeds to End (Final Log). If an objection is filed, the process proceeds to Step 7.

     ## ====================
     ## ROLE: SYSTEM
     ## ====================

     ### Subsystem: Final Archiving
     **Requirements:**
     10. Final Log
        - **User Stories:**
          - REQ-OD-08: Access past appraisal history and multi-cycle trend views.
          - REQ-OD-06: Generate and export outcome reports.
        - **Business Rules:** None specified (but implied historical record keeping)
        - **Inputs from Other Sub-Systems:** None (uses internal PM data)
        - **Downstream Dependencies:** None (archived record)

     **Actions/Processes:**
     8. End: Final Log
        - **Actor:** System
        - **Process:** Finalized appraisal record is archived and made available for historical trend analysis and outcome reports.
        - **Supporting:**
          - REQ-OD-08: Access past appraisal history and multi-cycle trend views
          - REQ-OD-06: Generate and export outcome reports
        - **Output:** Final historical record saved and archived




        # HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
        ## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

        ## ====================
        ## ROLE: SYSTEM ADMIN
        ## ====================

        ### Subsystem: Shift Assignment Management
        **Requirements:**
        1. Shift Assignment Management
           - **User Stories:**
             - As a System Admin/HR Admin, I want to assign shifts to employees (individually, by department, or by position) and manage their statuses (Approved, Cancelled, Expired, etc.) so that work schedules are properly maintained and updated.
           - **Business Rules:**
             - BR-TM-02: Shifts must be assigned per employee for a defined term and hold statuses (Approved, Cancelled, Entered, Expired, Postponed, Rejected, Submitted)
             - BR-TM-03: The system must support multiple shift types (Normal, Split, Overnight, Mission, Rotational) with start and end dates
             - BR-TM-04: The system must support multiple shift names (Fixed Core Hours, Flex-Time, Rotational, Split, Custom Weekly Patterns, Overtime)
             - BR-TM-05: Shift schedules must be assignable by Department, Position, or Individual
           - **Inputs from Other Sub-Systems:**
             - Employee Profile
             - Organizational Structure
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Shift Configuration & Types
        **Requirements:**
        2. Shift Configuration & Types
           - **User Stories:**
             - As an HR Manager/System Admin, I want to define and configure shift types (Normal, Split, Overnight, Rotational, etc.) and their corresponding names so that different work arrangements are supported consistently.
           - **Business Rules:**
             - BR-TM-03: The system must support multiple shift types (Normal, Split, Overnight, Mission, Rotational) with start and end dates
             - BR-TM-04: The system must support multiple shift names (Fixed Core Hours, Flex-Time, Rotational, Split, Custom Weekly Patterns, Overtime)
           - **Inputs from Other Sub-Systems:** None
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Holiday & Rest Day Configuration
        **Requirements:**
        17. Holiday & Rest Day Configuration
           - **User Stories:**
             - As a System Admin/HR Admin, I want to define national holidays, organizational holidays, and weekly rest days so that no shifts or attendance penalties are applied during those times.
           - **Business Rules:**
             - BR-TM-19: Vacation packages, national holidays, organizational holidays, and weekly rest days must be linked to shift schedules
           - **Inputs from Other Sub-Systems:**
             - Leaves Module
           - **Downstream Dependencies:**
             - Time Management (Penalty suppression)

        **Actions/Processes:**
        4. Shift Expiry Notification & Renewal
           - **Actor:** System / HR Admin
           - **Process:** Sends notifications when a shift assignment nears expiry, prompting renewal or reassignment
           - **Supporting:**
             - User Story 4: Shift Expiry Notifications
           - **Output:** Alerts generated for HR; expiring shifts either renewed or archived

        14. Holiday & Rest Day Configuration
           - **Actor:** System Admin / HR Admin
           - **Process:** Defines national holidays, organizational holidays, and weekly rest days to suppress penalties
           - **Supporting:**
             - User Story 17: Holiday & Rest Day Configuration
           - **Output:** Holiday master list created; integrated into shift and attendance checks

        ## ====================
        ## ROLE: HR MANAGER
        ## ====================

        ### Subsystem: Custom Scheduling Rules
        **Requirements:**
        3. Custom Scheduling Rules
           - **User Stories:**
             - As an HR Manager, I want to define flexible and custom scheduling rules (e.g., flex-in/flex-out hours, custom weekly patterns like 4 days on/3 off) so that the organization can accommodate diverse work styles.
           - **Business Rules:**
             - BR-TM-04: The system must support multiple shift names (Fixed Core Hours, Flex-Time, Rotational, Split, Custom Weekly Patterns, Overtime)
             - BR-TM-10: The system must restrict early/late clock-ins based on configured shifts and rules
           - **Inputs from Other Sub-Systems:** None
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Overtime & Short Time Configuration
        **Requirements:**
        10. Overtime & Short Time Configuration
           - **User Stories:**
             - As an HR Manager, I want to configure overtime and short-time rules (including weekend, holiday, and pre-approval types) so that attendance and payroll comply with policies.
           - **Business Rules:**
             - BR-TM-08: Overtime/Short Time must be calculated according to organizational policies (types, categories, implementation rules, calculation methods)
           - **Inputs from Other Sub-Systems:** None
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Lateness & Penalty Rules
        **Requirements:**
        11. Lateness & Penalty Rules
           - **User Stories:**
             - As an HR Manager, I want to set grace periods, lateness thresholds, and automatic deductions so that penalties are applied fairly and consistently.
           - **Business Rules:**
             - BR-TM-09: Early/Lateness per shift must follow HR rules (grace period, penalty thresholds, escalation)
           - **Inputs from Other Sub-Systems:** None
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Vacation Package Integration
        **Requirements:**
        16. Vacation Package Integration
           - **User Stories:**
             - As an HR Manager, I want employee vacation packages linked to their schedules so that time off is automatically reflected in attendance and planning.
           - **Business Rules:**
             - BR-TM-19: Vacation packages, national holidays, organizational holidays, and weekly rest days must be linked to shift schedules
           - **Inputs from Other Sub-Systems:**
             - Leaves Module
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Cross-Module Data Synchronization
        **Requirements:**
        20. Cross-Module Data Synchronization
           - **User Stories:**
             - As an HR Manager, I want attendance and time management data synchronized with payroll and leave modules to maintain consistent records.
           - **Business Rules:**
             - BR-TM-22: All time management data must sync daily with payroll, benefits, and leave modules
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Payroll, Leaves

        **Actions/Processes:**
        1. Shift Configuration & Types
           - **Actor:** HR Manager / System Admin
           - **Process:** Defines and configures standard shift types (Normal, Split, Overnight, Rotational) and naming templates that will be used across the organization
           - **Supporting:**
             - User Story 2: Shift Configuration & Types
           - **Output:** Shift templates are created and stored for use in scheduling; foundational data for later attendance tracking

        3. Define Custom Scheduling Rules
           - **Actor:** HR Manager
           - **Process:** Sets custom scheduling logic such as flexible hours, rotational work weeks, or compressed patterns (4-on/3-off)
           - **Supporting:**
             - User Story 3: Custom Scheduling Rules
           - **Output:** Scheduling flexibility applied; outputs feed into attendance validation logic

        9. Overtime & Short Time Configuration
           - **Actor:** HR Manager
           - **Process:** Configures overtime, short-time, and weekend work rules, including approval requirements
           - **Supporting:**
             - User Story 10: Overtime & Short Time Configuration
           - **Output:** Overtime policies defined; stored for payroll and approval workflow

        10. Lateness & Penalty Rules Setup
           - **Actor:** HR Manager
           - **Process:** Sets lateness thresholds, grace periods, and automatic penalty triggers
           - **Supporting:**
             - User Story 11: Lateness & Penalty Rules
           - **Output:** Lateness configurations active; real-time penalty calculations enabled

        15. Vacation Package Integration
           - **Actor:** HR Manager
           - **Process:** Links employee vacation entitlements to attendance schedules for automatic reflection of time off
           - **Supporting:**
             - User Story 16: Vacation Package Integration
           - **Output:** Attendance and leave data unified; leave deductions auto-calculated

        ## ====================
        ## ROLE: HR ADMIN
        ## ====================

        ### Subsystem: Shift Expiry Notifications
        **Requirements:**
        4. Shift Expiry Notifications
           - **User Stories:**
             - As an HR Admin, I want to be notified when a shift assignment is nearing expiry so that schedules can be renewed or reassigned.
           - **Business Rules:**
             - BR-TM-05: Shift schedules must be assignable by Department, Position, or Individual
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Notifications

        ### Subsystem: Attendance-to-Payroll Sync
        **Requirements:**
        9. Attendance-to-Payroll Sync
           - **User Stories:**
             - As an HR Admin, I want attendance records to sync daily with payroll and leave systems so that data remains consistent.
           - **Business Rules:**
             - BR-TM-22: All time management data must sync daily with payroll, benefits, and leave modules
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Payroll, Leaves

        ### Subsystem: Repeated Lateness Handling
        **Requirements:**
        12. Repeated Lateness Handling
           - **User Stories:**
             - As an HR Admin/Manager, I want the system to flag repeated lateness for disciplinary tracking so that repeated offenders can be identified.
           - **Business Rules:**
             - BR-TM-09: Early/Lateness per shift must follow HR rules (grace period, penalty thresholds, escalation)
             - BR-TM-16: Permission policies must define types of Over/Short time (Early In, Late Out, Out of Hours, Total)
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Performance Management

        ### Subsystem: Escalation for Pending Requests Before Payroll Cut-Off
        **Requirements:**
        18. Escalation for Pending Requests Before Payroll Cut-Off
           - **User Stories:**
             - As a System Admin/HR Admin, I want leave or time requests to escalate automatically if not reviewed before the monthly payroll cut-off date so that payroll processing is not delayed.
           - **Business Rules:**
             - BR-TM-20: Unreviewed employee requests must auto-escalate after a defined time or before payroll cutoff
           - **Inputs from Other Sub-Systems:**
             - Payroll, Time Management
           - **Downstream Dependencies:**
             - Notifications

        **Actions/Processes:**
        2. Shift Assignment Management
           - **Actor:** HR Admin / System Admin
           - **Process:** Assigns configured shifts to employees (individually, by department, or position). Updates shift statuses (Approved, Cancelled, Expired)
           - **Supporting:**
             - User Story 1: Shift Assignment Management
           - **Output:** Employee schedules generated; valid shift assignments created for attendance validation

        ## ====================
        ## ROLE: LINE MANAGER
        ## ====================

        ### Subsystem: Manual Attendance Correction
        **Requirements:**
        6. Manual Attendance Correction
           - **User Stories:**
             - As a Line Manager, I want to record or correct attendance manually so that missing punches can be updated accurately.
           - **Business Rules:**
             - BR-TM-06: Time-in/out must be captured via Biometric, Web Login, Mobile App (GPS optional), or Manual Input (with audit trail)
             - BR-TM-24: All edits/changes/cancellations must be timestamped and audit-tracked
           - **Inputs from Other Sub-Systems:**
             - Organizational Structure
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Time Exception Approval Workflow
        **Requirements:**
        14. Time Exception Approval Workflow
           - **User Stories:**
             - As a Line Manager/HR Admin, I want to review, approve, or reject attendance-related requests (corrections, overtime, permissions) and escalate unresolved ones automatically after deadlines.
           - **Business Rules:**
             - BR-TM-01: Roles for time management must be defined by the System Admin. Line Managers and HR approve or reject time management permissions
             - BR-TM-15: Employees must be able to submit correction requests (reason + time) via ESS, routed to Line Manager for approval
             - BR-TM-20: Unreviewed employee requests must auto-escalate after a defined time or before payroll cutoff
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Time Management / Notifications

        **Actions/Processes:**
        6. Manual Attendance Correction
           - **Actor:** Line Manager
           - **Process:** Reviews and corrects attendance in case of missing or invalid punches
           - **Supporting:**
             - User Story 6: Manual Attendance Correction
           - **Output:** Corrected attendance record stored; audit log updated

        11. Repeated Lateness Handling
           - **Actor:** HR Admin / Manager
           - **Process:** System flags repeated lateness for disciplinary tracking and escalation. Escalates after threshold reached
           - **Supporting:**
             - User Story 12: Repeated Lateness Handling
           - **Output:** Disciplinary flags; performance reports updated

        13. Time Exception Approval Workflow
           - **Actor:** Line Manager / HR Admin
           - **Process:** Reviews, approves, or rejects time-related requests (corrections, overtime, permissions). Escalates unreviewed ones automatically
           - **Supporting:**
             - User Story 14: Time Exception Approval Workflow
           - **Output:** Approved or rejected requests finalized; audit trail maintained

        ## ====================
        ## ROLE: EMPLOYEE
        ## ====================

        ### Subsystem: Clock-In/Out
        **Requirements:**
        5. Clock-In/Out
           - **User Stories:**
             - As an Employee, I want to clock in/out using ID
           - **Business Rules:**
             - BR-TM-06: Time-in/out must be captured via Biometric, Web Login, Mobile App (GPS optional), or Manual Input (with audit trail)
           - **Inputs from Other Sub-Systems:**
             - External Excel Sheet
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Flexible Punch Handling
        **Requirements:**
        7. Flexible Punch Handling
           - **User Stories:**
             - As an Employee/System Admin, I want to support multiple clock-ins/outs per day or restrict to first-in/last-out, so that the system adapts to different work styles.
           - **Business Rules:**
             - BR-TM-11: The system must allow multiple punches per day, or alternatively use first in/last out
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Time Management

        ### Subsystem: Attendance Correction Requests
        **Requirements:**
        13. Attendance Correction Requests
           - **User Stories:**
             - As an Employee, I want to submit correction requests for missing or incorrect punches and track their approval status.
           - **Business Rules:**
             - BR-TM-15: Employees must be able to submit correction requests (reason + time) via ESS, routed to Line Manager for approval
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Time Management

        **Actions/Processes:**
        5. Employee Clock-In / Clock-Out
           - **Actor:** Employee
           - **Process:** Clocks in/out using ID validating against assigned shifts and rest days
           - **Supporting:**
             - User Story 5: Clock-In/Out
           - **Output:** Attendance records created and timestamped; data logged for validation

        12. Attendance Correction Requests
           - **Actor:** Employee
           - **Process:** Submits correction requests for missing or incorrect punches and tracks their approval status
           - **Supporting:**
             - User Story 13: Attendance Correction Requests
           - **Output:** Correction request generated; pending approval workflow initiated

        ## ====================
        ## ROLE: PAYROLL OFFICER
        ## ====================

        ### Subsystem: Overtime & Exception Reports
        **Requirements:**
        19. Overtime & Exception Reports
           - **User Stories:**
             - As an HR or Payroll Officer, I want to view and export overtime and exception attendance reports so that payroll and compliance checks are accurate.
           - **Business Rules:**
             - BR-TM-21: HR and Line Managers must have access to attendance summaries, lateness logs, and overtime reports
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Analytics / Payroll

        **Actions/Processes:**
        17. Reporting & Analytics Generation
           - **Actor:** HR Officer / Payroll Officer
           - **Process:** Generates overtime, exception, and penalty reports for review and auditing
           - **Supporting:**
             - User Story 19: Overtime & Exception Reports
           - **Output:** Exportable reports and analytics dashboards generated

        ## ====================
        ## ROLE: SYSTEM
        ## ====================

        ### Subsystem: Missed Punch Management
        **Requirements:**
        8. Missed Punch Management
           - **User Stories:**
             - As an Employee/Line Manager/Payroll Officer, I want the system to flag missed punches and send alerts
           - **Business Rules:**
             - BR-TM-14: Missed punches/late sign-ins must be handled via auto-flagging, notifications, or payroll blocking
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Notifications, Payroll

        ### Subsystem: Permission Validation Rules
        **Requirements:**
        15. Permission Validation Rules
           - **User Stories:**
             - As an HR Admin, I want to define limits for permission durations and ensure only approved permissions affect payroll.
           - **Business Rules:**
             - BR-TM-18: Over/Short time permissions can be Accepted or Rejected, impacting payroll and benefits
             - BR-TM-16: Permission policies must define types of Over/Short time (Early In, Late Out, Out of Hours, Total)
           - **Inputs from Other Sub-Systems:**
             - Time Management
           - **Downstream Dependencies:**
             - Time Management / Payroll

        **Actions/Processes:**
        7. Flexible Punch Handling
           - **Actor:** System Admin / Employee
           - **Process:** Enables or restricts multiple punches per day (e.g., first-in/last-out vs. multiple)
           - **Supporting:**
             - User Story 7: Flexible Punch Handling
           - **Output:** Punch validation logic applied; affects attendance data calculations

        8. Missed Punch Management & Alerts
           - **Actor:** Employee / Line Manager
           - **Process:** Flags missed punches and sends automated alerts to employees and managers for correction
           - **Supporting:**
             - User Story 8: Missed Punch Management
           - **Output:** Notification records sent; pending corrections logged in system

        16. Payroll Synchronization
           - **Actor:** System / HR Admin
           - **Process:** Syncs attendance, overtime, and penalty data with payroll and leave systems daily
           - **Supporting:**
             - User Stories 20, 9: Cross-Module Data Synchronization and Attendance-to-Payroll Sync
           - **Output:** Payroll system updated with validated time data

        18. Escalation Before Payroll Cut-Off
           - **Actor:** System / HR Admin
           - **Process:** Automatically escalates any pending requests (corrections, permissions, approvals) before payroll finalization
           - **Supporting:**
             - User Story 18: Escalation for Pending Requests Before Payroll Cut-Off
           - **Output:** Escalation alerts sent; ensures clean payroll closure

        ## ====================
        ## TIME MANAGEMENT BUSINESS RULES
        ## ====================

        **Complete List of Business Rules:**
        - BR-TM-01: Roles for time management must be defined by the System Admin. Line Managers and HR approve or reject time management permissions.
        - BR-TM-02: Shifts must be assigned per employee for a defined term and hold statuses (Approved, Cancelled, Entered, Expired, Postponed, Rejected, Submitted).
        - BR-TM-03: The system must support multiple shift types (Normal, Split, Overnight, Mission, Rotational) with start and end dates.
        - BR-TM-04: The system must support multiple shift names (Fixed Core Hours, Flex-Time, Rotational, Split, Custom Weekly Patterns, Overtime).
        - BR-TM-05: Shift schedules must be assignable by Department, Position, or Individual.
        - BR-TM-06: Time-in/out must be captured via Biometric, Web Login, Mobile App (GPS optional), or Manual Input (with audit trail).
        - BR-TM-07: Attendance data must follow HR rounding rules (nearest interval, ceiling/floor, alignment, first in/last out).
        - BR-TM-08: Overtime/Short Time must be calculated according to organizational policies (types, categories, implementation rules, calculation methods).
        - BR-TM-09: Early/Lateness per shift must follow HR rules (grace period, penalty thresholds, escalation).
        - BR-TM-10: The system must restrict early/late clock-ins based on configured shifts and rules.
        - BR-TM-11: The system must allow multiple punches per day, or alternatively use first in/last out.
        - BR-TM-12: Clock-ins must be tagged with location, terminal ID, or device.
        - BR-TM-13: Attendance devices must sync automatically once reconnected online.
        - BR-TM-14: Missed punches/late sign-ins must be handled via auto-flagging, notifications, or payroll blocking.
        - BR-TM-15: Employees must be able to submit correction requests (reason + time) via ESS, routed to Line Manager for approval.
        - BR-TM-16: Permission policies must define types of Over/Short time (Early In, Late Out, Out of Hours, Total).
        - BR-TM-17: Permissions must be tied to valid dates (contract start, financial calendar, probation date).
        - BR-TM-18: Over/Short time permissions can be Accepted or Rejected, impacting payroll and benefits.
        - BR-TM-19: Vacation packages, national holidays, organizational holidays, and weekly rest days must be linked to shift schedules.
        - BR-TM-20: Unreviewed employee requests must auto-escalate after a defined time or before payroll cutoff.
        - BR-TM-21: HR and Line Managers must have access to attendance summaries, lateness logs, and overtime reports.
        - BR-TM-22: All time management data must sync daily with payroll, benefits, and leave modules.
        - BR-TM-23: Reports must be exportable in multiple formats (Excel, Access, Text).
        - BR-TM-24: All edits/changes/cancellations must be timestamped and audit-tracked.
        - BR-TM-25: The system must maintain continuous data backup with a retention policy.



        # HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
        ## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

        ## ====================
        ## ROLE: HR MANAGER
        ## ====================

        ### Subsystem: Job Design & Posting
        **Requirements:**
        1. Job Design & Posting - Templates
           - **User Stories:**
             - REC-003: As an HR Manager, I want to define standardized job description templates, so that postings are consistent.
           - **Business Rules:**
             - BR 2: Each job requisition must include Job details (title, department, location, openings) and Qualifications and skills needed.
           - **Inputs from Other Sub-Systems:**
             - Organizational Structure (OS): Jobs/Positions
           - **Downstream Dependencies:**
             - Recruitment: Job Posting

        2. Job Design & Posting - Process Templates
           - **User Stories:**
             - REC-004: As an HR Manager, I want to be able to establish hiring processes templates so that the system can automatically update progress percentage.
           - **Business Rules:**
             - BR 9: Each application must be tracked through defined stages (e.g., Screening, Shortlisting, Interview, Offer, Hired).
           - **Inputs from Other Sub-Systems:** None (System Configuration)
           - **Downstream Dependencies:**
             - Recruitment: Candidate Tracking

        ### Subsystem: Recruitment Analytics
        **Requirements:**
        3. Recruitment Analytics
           - **User Stories:**
             - REC-009: As an HR Manager, I want to monitor recruitment progress across all open positions, so that I stay informed.
           - **Business Rules:**
             - BR 33: Multiple reports could be generated like time-to-hire and source effectiveness.
           - **Inputs from Other Sub-Systems:**
             - Recruitment data (REC-008)
           - **Downstream Dependencies:**
             - Recruitment

        ### Subsystem: Offers & Hiring Decisions
        **Requirements:**
        4. Offers & Hiring Decisions - Management
           - **User Stories:**
             - REC-014: As an HR Manager, I want to manage job offers and approvals, so that candidates can be hired smoothly.
           - **Business Rules:**
             - BR 26(b, c): The system must support securing related parties' approval before sending out the offer. Once candidate acceptance is received, the next module (Onboarding) should be triggered.
           - **Inputs from Other Sub-Systems:**
             - Financial Approval (REC-027)
           - **Downstream Dependencies:**
             - Onboarding

        5. Offers & Hiring Decisions - Electronic Signatures
           - **User Stories:**
             - REC-018: As a HR Employee/HR Manager, I want to generate, send and collect electronically signed offer letters, so candidates can accept offers quickly and legally.
           - **Business Rules:**
             - BR 26(a, d): The system supports issuing an offer letter which needs to be customizable and editable (e.g., include compensation/benefits).
             - BR 37: Communication logs must be stored.
           - **Inputs from Other Sub-Systems:**
             - Offer template, Candidate signature data
           - **Downstream Dependencies:**
             - Onboarding

        **Actions/Processes:**
        1. Setup Templates
           - **Actor:** HR Manager
           - **Process:** Define standardized job description templates [REC-003] and establish hiring process templates [REC-004].
           - **Supporting:**
             - REC-003: Define standardized job description templates
             - REC-004: Establish hiring process templates
             - BR: Process template defines stages and progress percentage
           - **Output:** Standardized job templates and process templates created

        6. Monitoring & Communication
           - **Actor:** HR Manager / Candidate
           - **Process:** HR monitors recruitment progress [REC-009]; candidates get automatic updates [REC-017].
           - **Supporting:**
             - REC-009: Monitor recruitment progress across open positions
             - REC-017: Candidates receive updates about application status
             - BR: Status tracking must be real-time and visualized; automated notifications required
           - **Output:** Recruitment progress dashboards and candidate status updates

        7. Offer & Transition
           - **Actor:** HR Manager / HR Employee
           - **Process:** Manage job offers and approvals [REC-014]; generate and send e-signed offers [REC-018]; send automated rejections [REC-022]; trigger pre-boarding [REC-029].
           - **Supporting:**
             - REC-014: Manage job offers and approvals
             - REC-018: Generate and send e-signed offers
             - REC-022: Send automated rejection notifications
             - REC-029: Trigger pre-boarding tasks
             - BR: Offer acceptance triggers Onboarding; offer data used for contract creation
           - **Output:** Approved job offers, electronic offer letters, pre-boarding initiation

        ## ====================
        ## ROLE: HR EMPLOYEE
        ## ====================

        ### Subsystem: Job Design & Posting
        **Requirements:**
        6. Job Design & Posting - Publication
           - **User Stories:**
             - REC-023: As a HR Employee, I want to preview and publish jobs on the company careers page with employer-brand content, so openings look professional.
           - **Business Rules:**
             - BR 6: The system must allow automatic posting of approved requisitions to internal and external career sites.
           - **Inputs from Other Sub-Systems:** None
           - **Downstream Dependencies:**
             - External Careers Page

        ### Subsystem: Candidate Communication
        **Requirements:**
        7. Candidate Communication - Rejection Notifications
           - **User Stories:**
             - REC-022: As a HR Employee, I want automated rejection notifications and templates, so candidates are informed respectfully and consistently.
           - **Business Rules:**
             - BR 36: The system must send automated alerts/emails to candidates regarding status updates
             - BR 37: Communication logs must be stored in the applicant profile
           - **Inputs from Other Sub-Systems:**
             - Recruitment: Rejection Reason/Template
           - **Downstream Dependencies:**
             - External Communication (Candidate Email)

        ### Subsystem: Candidate Tracking & Evaluation
        **Requirements:**
        8. Candidate Tracking & Evaluation - Pipeline Management
           - **User Stories:**
             - REC-008: As a HR Employee, I want to track candidates through each stage of the hiring process, so that I can manage progress.
           - **Business Rules:**
             - BR 9: Applications must be tracked through defined stages
             - BR 11: Recruiters and hiring managers must be notified of status changes via alerts or workflow emails
           - **Inputs from Other Sub-Systems:**
             - Hiring Process Template (REC-004)
           - **Downstream Dependencies:**
             - Recruitment: Status Tracking

        9. Candidate Tracking & Evaluation - Interview Scheduling
           - **User Stories:**
             - REC-010: As a HR Employee, I want to schedule and manage interview invitations, so that candidates are engaged efficiently.
           - **Business Rules:**
             - BR 19(a, c, d): Recruiters must be able to schedule interviews by selecting time slots, panel members, and modes. Interviewers must receive automatic calendar invites, and candidates must be notified automatically.
           - **Inputs from Other Sub-Systems:**
             - Time Management (TM), Email/Calendar systems
           - **Downstream Dependencies:**
             - Notifications (N)

        10. Candidate Tracking & Evaluation - Interview Feedback
            - **User Stories:**
              - REC-011: As an HR Employee, I want to be able to provide feedback/interview score for scheduled interviews for filtration.
            - **Business Rules:**
              - BR 10: The system must allow adding comments and ratings at each stage
              - BR 22: Feedback at each stage must be submitted by the panel/interviewers to ensure accuracy
            - **Inputs from Other Sub-Systems:**
              - Interview panel feedback/scores
            - **Downstream Dependencies:**
              - Recruitment: Applicant Scoring

        11. Candidate Tracking & Evaluation - Assessment Forms
            - **User Stories:**
              - REC-020: As an HR Employee, I want structured assessment and scoring forms per role, so evaluations are consistent and auditable.
            - **Business Rules:**
              - BR 21: Criteria used in interview assessment are pre-set and agreed upon
              - BR 23: The system needs to allow/house the multiple assessment tools to be used
            - **Inputs from Other Sub-Systems:**
              - Evaluation Criteria (REC-015)
            - **Downstream Dependencies:**
              - Recruitment: Applicant Scoring

        12. Candidate Tracking & Evaluation - Panel Coordination
            - **User Stories:**
              - REC-021: As a HR Employee, I want to coordinate interview panels (members, availability, scoring), so scheduling and feedback collection are centralized.
            - **Business Rules:**
              - BR 19(a, b): Interview scheduling requires selecting panel members
              - BR 20: Panels need to possess the knowledge and/or training to conduct the needed interviews/selection tests
            - **Inputs from Other Sub-Systems:**
              - Calendar/Time Management (Availability)
            - **Downstream Dependencies:**
              - Recruitment: Interview Scheduling/Feedback

        13. Candidate Tracking & Evaluation - Referral Tagging
            - **User Stories:**
              - REC-030: As a HR Employee, I want to be able to tag candidates as referrals in order to give them a higher chance of having an earlier interview.
            - **Business Rules:**
              - BR 14: Electronic screening includes rule-based filters
              - BR 25: Tie-Breaking Rules should be predetermined and could be based on Internal candidate preference
            - **Inputs from Other Sub-Systems:**
              - Candidate data, Referral source info
            - **Downstream Dependencies:**
              - Recruitment

        ### Subsystem: Offers & Hiring Decisions
        **Requirements:**
        14. Offers & Hiring Decisions - Pre-boarding
            - **User Stories:**
              - REC-029: As a HR Employee, I want to trigger pre-boarding tasks (contract signing, forms) after offer acceptance and before the start date, so new hire readiness is improved.
            - **Business Rules:**
              - BR 26(c): Once a candidate's acceptance is received, the next module (Onboarding) should be triggered
            - **Inputs from Other Sub-Systems:**
              - Offer Acceptance Status
            - **Downstream Dependencies:**
              - Onboarding Module (Task Checklist)

        **Actions/Processes:**
        2. Publish Job
           - **Actor:** HR Employee
           - **Process:** Preview and publish jobs on the company careers page [REC-023].
           - **Supporting:**
             - REC-023: Preview and publish jobs on company careers page
             - BR: Posting must be automatic once approved
           - **Output:** Published job postings on internal/external career sites

        4. Pipeline & Tags
           - **Actor:** HR Employee
           - **Process:** Tag candidates as referrals [REC-030] and track candidates through each stage of the hiring process [REC-008].
           - **Supporting:**
             - REC-030: Tag candidates as referrals
             - REC-008: Track candidates through each stage
             - BR: Applications tracked through defined stages. Referrals get preferential filtering
           - **Output:** Tagged referral candidates, updated candidate pipeline status

        5. Evaluation
           - **Actor:** HR Employee
           - **Process:** Use structured assessment and scoring forms per role [REC-020], coordinate interviews [REC-021], and schedule/manage invitations [REC-010].
           - **Supporting:**
             - REC-020: Use structured assessment and scoring forms
             - REC-021: Coordinate interview panels
             - REC-010: Schedule and manage interview invitations
             - REC-011: Provide feedback/interview score for filtration
             - BR: Structured assessment forms required; ranking rules enforced
           - **Output:** Scheduled interviews, completed assessment forms, interview feedback

        ## ====================
        ## ROLE: CANDIDATE
        ## ====================

        ### Subsystem: Candidate Application & Communication
        **Requirements:**
        15. Candidate Application & Communication - Application Submission
            - **User Stories:**
              - REC-007: As a Candidate, I want to upload my CV and apply for positions, so that I can be considered for opportunities.
            - **Business Rules:**
              - BR 12: The system must support the storage/upload of applications with resumes, which creates the organization's talent pool
            - **Inputs from Other Sub-Systems:**
              - Candidate CVs/Documents
            - **Downstream Dependencies:**
              - Recruitment: Talent Pool

        16. Candidate Application & Communication - Status Updates
            - **User Stories:**
              - REC-017: As a Candidate, I want to receive updates about my application status, so that I know where I stand.
            - **Business Rules:**
              - BR 27: Candidate Status Tracking must be easily visualized and up-to-date in real-time
              - BR 36: The system must send automated alerts/emails to candidates regarding status updates
            - **Inputs from Other Sub-Systems:**
              - Recruitment: Candidate Status Tracking
            - **Downstream Dependencies:**
              - Candidate Self-Service Portal

        ### Subsystem: Compliance & Background Checks
        **Requirements:**
        17. Compliance & Background Checks - Consent
            - **User Stories:**
              - REC-028: As a Candidate, I want to give consent for personal-data processing and background checks, so the system remains compliant with privacy laws.
            - **Business Rules:**
              - BR 28: Storing the talent pool needs to be authorized by applicants in the early stages of the recruitment process
              - NFR-33: All data handling must comply with GDPR and labor laws
            - **Inputs from Other Sub-Systems:** None (Candidate input)
            - **Downstream Dependencies:**
              - Recruitment

        **Actions/Processes:**
        3. Application & Consent
           - **Actor:** Candidate
           - **Process:** Upload CV [REC-007] and give consent for personal-data processing [REC-028].
           - **Supporting:**
             - REC-007: Upload CV and apply for positions
             - REC-028: Give consent for personal-data processing
             - BR: Storing applications requires applicant authorization
           - **Output:** Candidate application submitted, consent recorded

        ## ====================
        ## RECRUITMENT PROCESS WORKFLOW
        ## ====================

        **Phase 1: Recruitment (Acquisition & Offer)**
        1. **Setup Templates:** HR Manager defines standardized job description and hiring process templates
        2. **Publish Job:** HR Employee previews and publishes jobs on careers page
        3. **Application & Consent:** Candidate uploads CV and gives consent for data processing
        4. **Pipeline & Tags:** HR Employee tags referrals and tracks candidates through stages
        5. **Evaluation:** HR Employee coordinates interviews, assessments, and feedback
        6. **Monitoring & Communication:** HR Manager monitors progress; candidates receive updates
        7. **Offer & Transition:** HR Manager/Employee manage offers, send e-signatures, trigger pre-boarding

        **Phase 2: Onboarding (Transition to New Hire)**
        - Triggered by offer acceptance (REC-029)
        - Includes pre-boarding tasks and contract signing

        **Phase 3: Offboarding (Separation Process)**
        - Not detailed in current requirements but referenced in workflow

        ## ====================
        ## RECRUITMENT BUSINESS RULES SUMMARY
        ## ====================

        **Complete List of Business Rules:**
        - BR 2: Each job requisition must include Job details (title, department, location, openings) and Qualifications and skills needed
        - BR 6: The system must allow automatic posting of approved requisitions to internal and external career sites
        - BR 9: Each application must be tracked through defined stages (e.g., Screening, Shortlisting, Interview, Offer, Hired)
        - BR 10: The system must allow adding comments and ratings at each stage
        - BR 11: Recruiters and hiring managers must be notified of status changes via alerts or workflow emails
        - BR 12: The system must support the storage/upload of applications with resumes, which creates the organization's talent pool
        - BR 14: Electronic screening includes rule-based filters
        - BR 19(a, b, c, d): Interview scheduling requires selecting panel members, time slots, modes; automatic calendar invites and notifications
        - BR 20: Panels need to possess the knowledge and/or training to conduct the needed interviews/selection tests
        - BR 21: Criteria used in interview assessment are pre-set and agreed upon
        - BR 22: Feedback at each stage must be submitted by the panel/interviewers to ensure accuracy
        - BR 23: The system needs to allow/house the multiple assessment tools to be used
        - BR 25: Tie-Breaking Rules should be predetermined and could be based on Internal candidate preference
        - BR 26(a, b, c, d): Offer letter system requirements - customizable, approval workflow, triggers onboarding, communication logs
        - BR 27: Candidate Status Tracking must be easily visualized and up-to-date in real-time
        - BR 28: Storing the talent pool needs to be authorized by applicants in the early stages of the recruitment process
        - BR 33: Multiple reports could be generated like time-to-hire and source effectiveness
        - BR 36: The system must send automated alerts/emails to candidates regarding status updates
        - BR 37: Communication logs must be stored in the applicant profile
        - NFR-33: All data handling must comply with GDPR and labor laws




        # HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
        ## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

        ## ====================
        ## ROLE: HR ADMIN / SYSTEM ADMIN
        ## ====================

        ### Subsystem: Policy Setup - Configuration & Management
        **Requirements:**
        1. Policy Configuration Initiation
           - **User Stories:**
             - REQ-001: As an HR Admin, I want to initiate the leave configuration process so that I can define and manage leave policies within the system.
           - **Business Rules:**
             - BR 1: The HR and System Admin need to define the 'Leave types'
             - BR 25: Leave requests must pass through predefined, role-based approval
           - **Inputs from Other Sub-Systems:** None (Internal system control)
           - **Downstream Dependencies:** None

        2. Admin Authentication
           - **User Stories:**
             - REQ-002: As an HR Admin, I want to authenticate my administrator credentials so that I can securely access the leave configuration settings.
           - **Business Rules:**
             - NFR-14: All users shall authenticate via secure login and role-based access control
           - **Inputs from Other Sub-Systems:**
             - Employee Profile: User credentials for secure login
           - **Downstream Dependencies:** None

        3. Configure Leave Settings (Accrual, Carry-over, Rounding)
           - **User Stories:**
             - REQ-003: As an HR Admin, I want to configure leave settings (e.g., accrual rates, maximum carry-over, waiting periods) so that the system adheres to our organizational policies.
           - **Business Rules:**
             - BR 9: Set carry-over rules, expiration dates, and caps
             - BR 10: Employee balance must be accrued monthly/quarterly/yearly based on employment type (Monthly accrual = (Number of eligible months worked) × (Monthly Rate))
             - BR 20: The system must allow HR admins to define rounding methods (No Rounding, Rounded Arithmetically, Always Rounded Up, Always Rounded Down)
             - BR 42: (Not detailed in provided text)
           - **Inputs from Other Sub-Systems:**
             - Employee Profile: Employment Type for accrual rate determination
           - **Downstream Dependencies:**
             - Balance Tracking

        4. Update Entitlement Calculations/Scheduling
           - **User Stories:**
             - REQ-005: As an HR Admin, I want to update entitlement calculations and scheduling logic so that leave balances are accurately computed and scheduling respects the new rules.
           - **Business Rules:**
             - BR 23: Leave duration must be calculated net of non-working days, based on the employee's work schedule and country/location-specific calendars
           - **Inputs from Other Sub-Systems:** None
           - **Downstream Dependencies:**
             - Balance Tracking

        5. Create and Manage Leave Types
           - **User Stories:**
             - REQ-006: As an HR Admin, I want to create and manage different leave types (e.g., Annual leave, sick leave, Accidental leave, Compensation Leave, Mission Leave, Marriage Leave, etc.) so that employees can request appropriate leave categories.
           - **Business Rules:**
             - BR 1: The HR and System Admin need to define the 'Leave types'
             - BR 2: Each leave type has a unique code
             - BR 3: Leave types need to be linked to related 'Leave Categories' ('Annual Leaves' are deducted from balance; 'Other' will not affect the annual balance)
             - BR 4: The system allows the HR users to create/rename/edit in leave types
             - BR 6: Leave types need to be linked to Payroll Paycodes
           - **Inputs from Other Sub-Systems:** None
           - **Downstream Dependencies:**
             - Payroll: Paycode linkage

        6. Set Eligibility Rules
           - **User Stories:**
             - REQ-007: As an HR Admin, I want to set eligibility rules for each leave type (e.g., minimum tenure, employee type) so that leave is granted according to company policy.
           - **Business Rules:**
             - BR 8: Define any rule variations by position, job grade, tenure, location, or contract type according to the national labor law
             - BR 22: System admin needs to set the range of days (entitlement rules) that may affect the employee's earnings
           - **Inputs from Other Sub-Systems:**
             - Employee Profile: Tenure, employment contract type
           - **Downstream Dependencies:**
             - Request Workflow: Validation

        7. Assign Personalized Entitlements
           - **User Stories:**
             - REQ-008: As an HR Admin, I want to assign personalized leave entitlements to individual employees or groups so that specific agreements or adjustments can be accommodated.
           - **Business Rules:**
             - BR 7: Vacation Package needs to be defined by the system (e.g. Vacation Package for Egyptians, Vacation Package for Foreigners). Each package has a unique code on the system, with specific entitlements according to the national labor law
           - **Inputs from Other Sub-Systems:**
             - Employee Profile: Individual contract data
           - **Downstream Dependencies:**
             - Request Workflow: Validation

        8. Configure Leave Parameters (Duration, Notice, Workflow)
           - **User Stories:**
             - REQ-009: As an HR Admin, I want to configure leave parameters such as maximum duration, notice periods, and approval workflows so that the leave process is clearly defined and manageable.
           - **Business Rules:**
             - BR 24: Multi-level approval chains should be defined per position (e.g., Manager → HR → Director)
           - **Inputs from Other Sub-Systems:**
             - Organizational Structure: For defining approval hierarchy
           - **Downstream Dependencies:**
             - Approval Workflow

        9. Configure Calendar & Blocked Days
           - **User Stories:**
             - REQ-010: As an HR Admin, I want to set calendars and blocked days (e.g., public holidays, company closures) so that these are automatically considered in leave calculations and scheduling.
           - **Business Rules:**
             - BR 33: Public holidays (i.e. official holiday calendar) and weekends must be excluded from leave count where applicable
             - BR 55: HR might set up the system to have Leave Block Periods where HR can block leave requests during specific periods (e.g., end-of-year closing; exams' taking place)
           - **Inputs from Other Sub-Systems:**
             - Time Management: Employee's work schedule/days off
           - **Downstream Dependencies:**
             - Leave Request: Duration Calculation

        10. Configure Special Absence/Mission Types
            - **User Stories:**
              - REQ-011: As an HR Admin, I want to configure special absence/mission types (e.g., bereavement, jury duty) with specific rules so that these unique leave scenarios are handled correctly.
            - **Business Rules:**
              - BR 39: The system needs to account for Miscellaneous leaves that includes (Hajj leave, leave for contact with an infected person, or special leaves 'i.e. for exams, or marriage' etc.) according to the national labor law
              - BR 40: The system must track the number of times an employee has taken maternity leave
              - BR 41: Sick leave must track cumulatively over a 3-year cycle (max 360 days)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Payroll

        11. Define Legal Leave Year & Reset Rules
            - **User Stories:**
              - REQ-012: As an HR Admin, I want to define legal leave year and reset rules so that leave balances are reset according to the applicable regulations and company policy.
            - **Business Rules:**
              - BR 5: A criterion date needs to be set for the vacations to be reset. It could be either (Hire date, First Vacation Date, Revised Hire Date, or Work Receiving Date)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Balance Tracking

        12. Manual Balance Adjustment
            - **User Stories:**
              - REQ-013: As an HR Admin, I want to manually adjust employee leave balances (e.g., for corrections, carry-overs, or one-time grants) so that leave records are accurate.
            - **Business Rules:**
              - BR 12: (Not detailed in provided text but referenced)
              - BR 16: Each and every vacation adjustment must be traced and stored in real-time with timestamp, HR user ID, and reason for audit trail
              - BR 17: Any manual adjustments (e.g., encashment, carryover, or corrections) must be tracked and visible in audit logs
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Audit Log, Balance Tracking

        13. Manage Roles & Permissions
            - **User Stories:**
              - REQ-014: As an HR Admin, I want to manage user roles and permissions related to leave (e.g., who can request, approve, or view leave) so that access is controlled and secure.
            - **Business Rules:**
              - BR 25: Leave requests must pass through predefined, role-based approval
              - BR 41: Role-based access must allow strict confidentiality of data
            - **Inputs from Other Sub-Systems:**
              - Organizational Structure: Security roles
            - **Downstream Dependencies:**
              - System Security/Audit

        **Actions/Processes:**
        1. Define Leave Types and Entitlements
           - **Actor:** HR Admin
           - **Process:** Configure Core Policies and Leave Types: Initiate configuration [REQ-001] to create/manage leave types (Annual, Sick, Mission) [REQ-006, REQ-011]. Define eligibility rules (min tenure, employee type) [REQ-007]. Assign personalized entitlements [REQ-008]
           - **Supporting:**
             - REQ-001, REQ-006, REQ-007, REQ-008, REQ-011
             - BR 1: Define types, BR 7: Eligibility, BR 22: Rule variations
           - **Output:** Defined Leave Catalog & Eligibility Matrix
           - **Data Flow:** Employee Profile reads tenure, grade, contract type

        2. Configure Accrual, Carry-Over, and Scheduling
           - **Actor:** HR Admin
           - **Process:** Set Financial and Time Rules: Configure accrual rates and carry-over caps [REQ-003]. Define duration & notice periods [REQ-009]. Set public holidays & blocked days [REQ-010]; exclude from leave count
           - **Supporting:**
             - REQ-003, REQ-009, REQ-010
             - BR 5: Accrual, BR 9: Carry-over, BR 23: Exclude non-working, BR 33: Exclude holidays
           - **Output:** Accrual Schedules; Holiday Calendar
           - **Data Flow:** Links to Time Management & Payroll

        3. Manage System Access and Manual Adjustments
           - **Actor:** HR Admin, System Admin
           - **Process:** Maintain System Integrity: Manage roles/permissions [REQ-014]. Adjust balances [REQ-013]. Pause accrual during unpaid leave/suspension
           - **Supporting:**
             - REQ-013, REQ-014
             - BR 11: Pause accrual, BR 12: Track adjustments, BR 16: Manual adj., BR 48: Prevent negative
           - **Output:** Adjusted Balances
           - **Data Flow:** Audit log tracks user, timestamp, reason

        ## ====================
        ## ROLE: EMPLOYEE
        ## ====================

        ### Subsystem: Leave Request Management & Workflow
        **Requirements:**
        14. Submit New Leave Request
            - **User Stories:**
              - REQ-015: As an employee, I want to submit a new leave request with details (leave type, dates, justification, and attachments) so that my absence can be reviewed and approved according to company policy.
            - **Business Rules:**
              - BR 25: Employees submit leave requests in person or through the leaves' portal
              - BR 29: If total leave > entitlement → convert to unpaid or block
              - BR 31: System should automatically check for overlapping dates with approved leaves
            - **Inputs from Other Sub-Systems:**
              - Employee Profile: Identity, employment status
            - **Downstream Dependencies:**
              - Approval Workflow (REQ-020)

        15. Attach Supporting Documents
            - **User Stories:**
              - REQ-016: As an employee, I want to attach documents (e.g., a doctor's note) to my leave request so that HR and my manager have the required proof for specialized leave types.
            - **Business Rules:**
              - BR 54: The HR must set up the system to require documentation for specific leave types (e.g., Medical certificate for Sick leave > 1 day, Maternity leave, Bereavement leave)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - HR Review (REQ-028)

        16. Modify Pending Request
            - **User Stories:**
              - REQ-017: As an employee, I want to modify a leave request so that I can correct mistakes or update details without having to start over.
            - **Business Rules:** (Implicit: The system supports modifications for pending requests)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Approval Workflow

        17. Cancel Pending Request
            - **User Stories:**
              - REQ-018: As an employee, I want to cancel my leave request before final approval so that it does not proceed unnecessarily.
            - **Business Rules:**
              - BR 18: If approved leaves are canceled or rescheduled, the system must automatically recalculate and return days to the balance
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Balance Tracking

        18. Submit Post-Leave Request
            - **User Stories:**
              - REQ-031: As an employee, I want to be able to submit my leave request after the leave by a maximum configured period, so that I can submit my leave after taking it due to emergencies.
            - **Business Rules:** (Explicit process requirement from US)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Approval Workflow

        ### Subsystem: Tracking, Reporting, and Integration
        **Requirements:**
        19. Employee View Current Balance
            - **User Stories:**
              - REQ-031: As an employee, I want to view my current leave balance so that I can plan my future leave requests.
            - **Business Rules:**
              - BR 14: System Display must show Accrued vacation days, Vacation days taken and Vacation balance available
              - BR 20: Balance display should reflect: Taken, Remaining, Pending, Carry-over
              - BR 32: For the employee view, the used rounded vacation balance must be displayed in the employee dashboard
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Employee Dashboard

        20. Employee View Past History
            - **User Stories:**
              - REQ-032: As an employee, I want to see my past leave requests and their statuses so that I can keep track of my leave usage over time.
            - **Business Rules:** (Implicit: The module reflects vacation history by dates showing vacations due, encashment and carryover leaves if any)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Employee Dashboard

        21. Employee Filter History
            - **User Stories:**
              - REQ-033: As an employee, I want to filter and sort my leave history by leave type, date range, and status so that I can quickly find specific requests.
            - **Business Rules:** (Implicit: The process also supports filtering and sorting based on various parameters)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Employee Dashboard

        **Actions/Processes:**
        4. Employee Submits Request
           - **Actor:** Employee
           - **Process:** Create Request and Attach Proof: Submit leave request [REQ-015]; attach docs [REQ-016]. Modify/cancel pending requests [REQ-017, REQ-018]. Submit after leave within grace period [REQ-031]
           - **Supporting:**
             - REQ-015, REQ-016, REQ-017, REQ-018, REQ-031
             - BR 25: Portal submission, BR 54: Docs required
           - **Output:** Leave Request (Submitted)
           - **Data Flow:** Validation (balance, overlap); Notifications (N-050)

        8. Employee Tracks Usage
           - **Actor:** Employee
           - **Process:** View History and Balances: View current balance [REQ-031]. View past requests [REQ-032]. Filter by type/date/status [REQ-033]
           - **Supporting:**
             - REQ-031, REQ-032, REQ-033
             - BR 14: Display balances
           - **Output:** Accessible History
           - **Data Flow:** Analytics logs self-service usage

        ## ====================
        ## ROLE: MANAGER (DIRECT MANAGER)
        ## ====================

        ### Subsystem: Leave Request Management & Workflow
        **Requirements:**
        22. Manager Review Request
            - **User Stories:**
              - REQ-020: As a direct manager, I want to review leave requests assigned to me so that I can ensure team operations are not disrupted.
            - **Business Rules:**
              - BR 25: Manager approves or declines as per work needs
            - **Inputs from Other Sub-Systems:**
              - Organizational Structure: Reporting hierarchy
            - **Downstream Dependencies:**
              - Approval Workflow

        23. Manager Approval
            - **User Stories:**
              - REQ-021: As a direct manager, I want to approve leave requests so that employees can take time off according to policy.
            - **Business Rules:**
              - BR 25: Manager approves or declines as per work needs
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Approval Workflow (HR Finalization)

        24. Manager Rejection
            - **User Stories:**
              - REQ-022: As a direct manager, I want to reject leave requests that do not meet operational or policy requirements so that the employee is informed and operations are maintained.
            - **Business Rules:**
              - BR 25: Manager approves or declines as per work needs
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Approval Workflow

        ### Subsystem: Tracking, Reporting, and Integration
        **Requirements:**
        25. Manager View Team Balances
            - **User Stories:**
              - REQ-034: As a manager, I want to view my team members' leave balances and upcoming leaves so that I can manage workloads effectively.
            - **Business Rules:**
              - BR 46: HR admins and direct supervisor/manager must have access to absence reports
            - **Inputs from Other Sub-Systems:**
              - Organizational Structure: Team hierarchy
            - **Downstream Dependencies:**
              - Manager Dashboard

        26. Manager Filter Team Data
            - **User Stories:**
              - REQ-035: As a manager, I want to filter and sort leave data by leave type, date range, department, and status so that I can quickly analyze patterns.
            - **Business Rules:** (Implicit: The process also supports filtering and sorting based on various parameters)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Manager Dashboard

        27. Manually Flag Irregular Patterns
            - **User Stories:**
              - REQ-039: As a direct manager, I want to be able to flag irregular leaving patterns in employees' leave history.
            - **Business Rules:** (Implicit: Managers or HR staff monitor patterns, spot irregularities, and take corrective actions)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Performance Management

        **Actions/Processes:**
        5. Manager Approves/Rejects/Delegates
           - **Actor:** Direct Manager
           - **Process:** Review and Route: Review [REQ-020]. Approve/reject [REQ-021, REQ-022]
           - **Supporting:**
             - REQ-020, REQ-021, REQ-022
             - BR 24: Multi-level, BR 26: Delegation, BR 47: Flag deduction
           - **Output:** Request Status Change
           - **Data Flow:** Notifications (N-051) to employee

        9. Manager Flags Irregular Patterns
           - **Actor:** Direct Manager
           - **Process:** Monitor Team and Identify Risk: View team leaves [REQ-034]. Flag irregular patterns [REQ-039]
           - **Supporting:**
             - REQ-034, REQ-039
             - BR 28: Alerts, BR 46: Manager access
           - **Output:** Irregularity Alert
           - **Data Flow:** Analytics & Notifications (N-060)

        ## ====================
        ## ROLE: HR MANAGER
        ## ====================

        ### Subsystem: Leave Request Management & Workflow
        **Requirements:**
        28. HR Finalize Approved Requests
            - **User Stories:**
              - REQ-025: As an HR manager, I want to finalize approved leave requests in the system so that employee records are updated and payroll is adjusted accordingly.
            - **Business Rules:**
              - BR 25: HR admin reviews for compliance with HR leaves' guidelines
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Payroll, Time Management, Balance Tracking

        29. HR Override Manager Decision
            - **User Stories:**
              - REQ-026: As an HR manager, I want to override a manager's decision in special circumstances so that exceptions to policy can be handled appropriately.
            - **Business Rules:**
              - BR 25: The HR admin can escalate employee requests and override managers' decisions if needed
              - BR 48: The system must not allow negative vacation balances unless explicitly permitted by company policy or HR override
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Balance Tracking, Audit Log

        30. Bulk Request Processing
            - **User Stories:**
              - REQ-027: As an HR manager, I want to process multiple leave requests at once so that large volumes of requests can be managed efficiently.
            - **Business Rules:** (Implicit: The system supports bulk approvals/rejections)
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Approval Workflow

        31. Verify Medical Documents
            - **User Stories:**
              - REQ-028: As an HR manager, I want to verify medical leave documents so that only legitimate claims are approved.
            - **Business Rules:**
              - BR 41: Medical certificate required for sick leave > 1 day
              - BR 54: The system should allow for attachment (medical certificate) for validation
            - **Inputs from Other Sub-Systems:**
              - Leave Request: Attachments
            - **Downstream Dependencies:**
              - Audit Log

        ### Subsystem: Tracking, Reporting, and Integration
        **Requirements:**
        32. Automatic Leave Accrual
            - **User Stories:**
              - REQ-040: As an HR Manager, I want the system to automatically add leave days to each employee's balance according to company policy so that entitlements stay accurate without manual calculation.
            - **Business Rules:**
              - BR 10: An employee's balance must be accrued monthly/quarterly/yearly based on employment type
            - **Inputs from Other Sub-Systems:**
              - Time Management: Actual service days
            - **Downstream Dependencies:**
              - Balance Tracking

        33. Automatic Carry-Forward Processing
            - **User Stories:**
              - REQ-041: As an HR Manager, I want to year-end/period carry-forward to run automatically so that unused days move correctly within caps and expiry rules.
            - **Business Rules:**
              - BR 9: Set carry-over rules, expiration dates, and caps
              - BR 42: Max carry forward: 45 days (customizable). Must be used within 1–2 years or encashed
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Balance Tracking

        34. Accrual Suspension/Adjustment
            - **User Stories:**
              - REQ-042: As an HR Manager I want to accrual suspension/adjustment during unpaid leave or long absence so that balances reflect true entitlement.
            - **Business Rules:**
              - BR 11: The system should pause accrual during unpaid leave and suspensions
              - BR 15: The system must exclude these periods when calculating eligibility and accrual. The system calculates the balance based on actual service days, excluding unpaid leave or absence
            - **Inputs from Other Sub-Systems:**
              - Time Management: Unpaid leave periods
            - **Downstream Dependencies:**
              - Balance Tracking

        35. Real-time Payroll Synchronization
            - **User Stories:**
              - REQ-042: As an HR Manager I want to automatically sync with the payroll system in real-time so that salary deductions or adjustments are calculated without delays.
            - **Business Rules:**
              - BR 22: Approved leaves (paid/unpaid) change payroll calculations, deductions or encashments and must sync in real time with payroll
              - BR 44: If an employee is terminated or resigns, remaining leave balance must be automatically converted to encashment or deducted based on final settlement rules
              - BR 52: If unapproved absences are recorded, an Unpaid Leave Deduction is calculated as (Base Salary / Work Days in Month) × Unpaid Leave Days
            - **Inputs from Other Sub-Systems:**
              - Payroll: Daily salary rate
            - **Downstream Dependencies:**
              - Payroll, Time Management

        **Actions/Processes:**
        6. HR Finalizes and Verifies Compliance
           - **Actor:** HR Manager
           - **Process:** Final Review & Override: Finalize approvals [REQ-025]. Verify documents [REQ-028]. Override manager decisions [REQ-026]. Bulk processing [REQ-027]
           - **Supporting:**
             - REQ-025, REQ-026, REQ-027, REQ-028
             - BR 25: HR compliance, BR 41: Verify docs
           - **Output:** Final Approval (Logged)
           - **Data Flow:** System trigger to auto-update

        10. Handle End-of-Period Adjustments
           - **Actor:** HR Manager
           - **Process:** Automate Carry-Forward and Accrual: Add leave days [REQ-040]. Run year-end carry-forward [REQ-041]
           - **Supporting:**
             - REQ-040, REQ-041
             - BR 9: Carry-over
           - **Output:** Updated Entitlements
           - **Data Flow:** Payroll receives new balances

        11. Process Final Settlement
           - **Actor:** HR Manager, Payroll Specialist
           - **Process:** Manage Exit Encashment: Convert remaining leave balance to encashment/deduction. Send offboarding notification [OFF-013]
           - **Supporting:**
             - OFF-013
             - BR 489: Encashment conversion, BR 53: Limits/formula
           - **Output:** Final Payout Data
           - **Data Flow:** Offboarding & Payroll integration

        ## ====================
        ## ROLE: SYSTEM (AUTOMATED PROCESSES)
        ## ====================

        ### Subsystem: Leave Request Management & Workflow
        **Requirements:**
        36. Employee Notifications (Status)
            - **User Stories:**
              - REQ-019: As an employee, I want to receive notifications when my leave request is approved, rejected, returned for correction, or modified so that I am always informed about the progress.
            - **Business Rules:**
              - BR 27: Automated notification of submissions, approval, rejection, complaint or cancellation
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Employee (Notification System)

        37. Manager Notifications (Assignment)
            - **User Stories:**
              - REQ-024: As a direct manager, I want to receive notifications when a new leave request is assigned to me so that I can review it promptly.
            - **Business Rules:**
              - BR 27: Automated notification of submissions
              - BR 28: The system should be set to issue Alerts (Automated) in cases of Overdue approval... If request had been filed for more than 48 hrs and is yet pending → escalate
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Manager (Notification System)

        38. Auto Update Balance (Post-Approval)
            - **User Stories:**
              - REQ-029: As an HR manager, I want the system to automatically update leave balances after final approval so that records remain accurate.
            - **Business Rules:**
              - BR 32: Leave balance must update in real time upon request submission, or approval or cancellation
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Balance Tracking

        39. Finalization Notification (Internal)
            - **User Stories:**
              - REQ-030: As an HR manager, I want the system to notify the employee, the employee's manager, and the attendance coordinator when a leave request is finalized so that everyone is informed.
            - **Business Rules:**
              - BR 27: Automated notification of submissions, approval, rejection, complaint or cancellation
            - **Inputs from Other Sub-Systems:** None
            - **Downstream Dependencies:**
              - Stakeholders (Notification System)

        **Actions/Processes:**
        7. System Automates Updates
           - **Actor:** System (Auto)
           - **Process:** Update Balances & Sync Data: Auto-update balances [REQ-029]. Notify stakeholders [REQ-030]. Sync payroll [REQ-042]
           - **Supporting:**
             - REQ-029, REQ-030, REQ-042
             - BR 32: Balance update, BR 27: Auto notifications
           - **Output:** Updated Balances & Notifications
           - **Data Flow:** Payroll & Time Management sync

        ## ====================
        ## LEAVES MODULE WORKFLOW SUMMARY
        ## ====================

        **Phase 1: Policy Configuration and Setup (HR Admin / System Admin)**
        1. Define Core Types & Categories: HR Admin defines leave types [REQ-006]
        2. Configure Entitlements: Set Vacation Packages [BR 7] and eligibility rules [REQ-007]
        3. Set Accrual, Carry-over, and Reset: Define accrual [REQ-003, REQ-040] and carry-over limits [REQ-041]
        4. Configure Workflows & Integrations: Define multi-level approval chain [REQ-009] and link to Payroll Paycodes [BR 6]
        5. Set Calendars & Blocked Days: Upload holidays [REQ-010] and define Leave Block Periods [BR 55]

        **Phase 2: Leave Request and Approval (Core Transaction Lifecycle)**
        1. Submission and Documentation: Employee submits request [REQ-015] with documents [REQ-016]
        2. System Validation & Conflict Check: System checks eligibility, balance, overlap, and team conflict
        3. Manager Approval: Request routed to Line Manager for review [REQ-020] and approval/rejection [REQ-021/022]
        4. HR Compliance Review & Override: HR Admin reviews [REQ-025], verifies documents [REQ-028], can override [REQ-026]
        5. Finalization and Synchronization: System updates balances [REQ-029], notifies stakeholders [REQ-030], syncs with Time Management and Payroll [REQ-042]

        **Phase 3: Tracking, Monitoring, and Auditing**
        1. Continuous Accrual: System automatically adds accrued days [REQ-040]
        2. Year-End Processing: System runs carry-forward calculation [REQ-041]
        3. Audit & Manual Adjustment: HR performs manual adjustments [REQ-013]
        4. Final Settlement (Termination/Resignation): HR triggers offboarding [OFF-013] for encashment

        ## ====================
        ## LEAVES MODULE BUSINESS RULES SUMMARY
        ## ====================

        **Key Business Rules (Selected from Complete List):**
        - BR 1: HR and System Admin need to define 'Leave types'
        - BR 5: Set criterion date for vacation reset (Hire date, First Vacation Date, etc.)
        - BR 6: Leave types need to be linked to Payroll Paycodes
        - BR 7: Define Vacation Packages by nationality with specific entitlements
        - BR 8: Define rule variations by position, job grade, tenure, location, or contract type
        - BR 9: Set carry-over rules, expiration dates, and caps
        - BR 10: Employee balance must be accrued monthly/quarterly/yearly based on employment type
        - BR 11: Pause accrual during unpaid leave and suspensions
        - BR 14: System must display Accrued vacation days, Vacation days taken and Vacation balance available
        - BR 16: Each vacation adjustment must be traced and stored with timestamp, HR user ID, and reason
        - BR 18: If approved leaves are canceled/rescheduled, system must automatically recalculate and return days
        - BR 20: Define rounding methods (No Rounding, Rounded Arithmetically, Always Rounded Up, Always Rounded Down)
        - BR 22: Set range of days (entitlement rules) that may affect employee's earnings
        - BR 23: Leave duration must be calculated net of non-working days
        - BR 24: Multi-level approval chains should be defined per position
        - BR 25: Leave requests must pass through predefined, role-based approval
        - BR 27: Automated notification of submissions, approval, rejection, complaint or cancellation
        - BR 28: Auto-escalate requests pending > 48 hours
        - BR 29: If total leave > entitlement → convert to unpaid or block
        - BR 31: System should automatically check for overlapping dates with approved leaves
        - BR 32: Leave balance must update in real time
        - BR 33: Public holidays and weekends must be excluded from leave count where applicable
        - BR 41: Sick leave must track cumulatively over a 3-year cycle (max 360 days)
        - BR 42: Max carry forward: 45 days (customizable)
        - BR 44: On termination/resignation, remaining leave balance must be automatically converted to encashment or deducted
        - BR 46: HR admins and direct supervisors must have access to absence reports
        - BR 48: System must not allow negative vacation balances unless explicitly permitted
        - BR 52: Unpaid Leave Deduction formula: (Base Salary / Work Days in Month) × Unpaid Leave Days
        - BR 53: Encashment calculation: [Daily salary rate] × [Number of unused leave days, capped at 30]
        - BR 54: Require documentation for specific leave types (Medical certificate for Sick leave > 1 day, etc.)
        - BR 55: HR can set Leave Block Periods during specific periods
        - NFR-14: All users shall authenticate via secure login and role-based access control




        # HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
        ## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

        ## ====================
        ## ROLE: PAYROLL SPECIALIST
        ## ====================

        ### Subsystem: Payroll Configuration - Structure Definition
        **Requirements:**
        1. Payroll Policies Configuration
           - **User Stories:**
             - REQ-PY-1: As a Payroll Specialist, I want to configure company-level payroll policies (e.g., basic salary types, misconduct penalties, leave policies, allowance) so that the system enforces organizational rules consistently. (create draft, edit draft, view all)
           - **Business Rules:**
             - BR 1: The system must require an active employment contract with a defined role, type (full-time, part-time, hourly, commission-based, etc.), start/end dates and salary basis before payroll can be processed. Local labor law (Egyptian labor law 2025) need to be followed.
             - BR 9: Payroll Structure must support base pay, allowances, deductions, and other variable pay elements
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A
           - **Status Management:** Draft status initially, requires payroll manager approval before publishing

        2. Pay Grades Configuration
           - **User Stories:**
             - REQ-PY-2: As a Payroll Specialist, I want to define pay grades, salary, and compensation limits so that managers and payroll specialists cannot exceed policy boundaries. (create draft, edit draft, view all) for department and position
           - **Business Rules:**
             - BR 10: The system allows for multiple pay scales configurable by grade, department, or location.
             - BR 31: The system needs to have a breakdown: Payroll schemas, Payroll areas
           - **Inputs from Other Sub-Systems:**
             - Organizational Structure: Job Grade/Band concept only
           - **Downstream Dependencies:** N/A
           - **Status Management:** Draft status initially, requires payroll manager approval before publishing

        3. Pay Types Configuration
           - **User Stories:**
             - REQ-PY-5: As a Payroll Specialist, I want the system to define employee pay types (hourly, daily, weekly, monthly, contract-based) so that salaries are calculated according to the employment agreement. (create draft, edit draft, view all)
           - **Business Rules:**
             - BR 1: The system must require an active employment contract with defined role type
             - BR 2: The system must calculate base salary according to contract terms and role type
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A
           - **Status Management:** Draft status initially, requires payroll manager approval before publishing

        4. Allowance Configuration
           - **User Stories:**
             - REQ-PY-7: As a Payroll Specialist, I want to set allowances (e.g., transportation, housing, etc) so that employees are rewarded for special conditions.
           - **Business Rules:**
             - BR 9: Payroll Structure must support base pay, allowances, deductions, and other variable pay elements
             - BR 39: Allowance Structure must support and tracks different types (e.g. transportation, housing, meals, etc)
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A
           - **Status Management:** Draft status initially, requires payroll manager approval before publishing

        5. Signing Bonuses and Payroll Initiation Configuration
           - **User Stories:**
             - REQ-PY-19: As a Payroll Specialist, I want to configure policies for signing bonuses, so that new hires are seamlessly incorporated into the company's payroll system. (create draft, edit draft, view all)
           - **Business Rules:**
             - BR 56: The system must support signing bonuses as a distinct payroll component, configurable by contract terms (e.g., one-time, etc), and subject to approval workflows
           - **Inputs from Other Sub-Systems:**
             - Onboarding: Contract details concept only
           - **Downstream Dependencies:**
             - Onboarding: Contract details
           - **Status Management:** Draft status initially, requires payroll manager approval before publishing

        6. Resignation and Termination Compensation Configuration
           - **User Stories:**
             - REQ-PY-20: As a Payroll Specialist, I want to configure resignation and termination benefits and their terms, so that the offboarding process for employees is seamless and legally compliant. (create draft, edit draft, view all)
           - **Business Rules:**
             - BR 56: Upon employee resignation, the system must automatically calculate resignation-related entitlements (e.g., accrued leave payout, service completion benefits, pending allowances) according to contract and local labor law
           - **Inputs from Other Sub-Systems:**
             - Offboarding: Severance rules/terms concept only
           - **Downstream Dependencies:**
             - Offboarding: Severance rules/terms
           - **Status Management:** Draft status initially, requires payroll manager approval before publishing

        7. Insurance Brackets Configuration
           - **User Stories:**
             - REQ-PY-21: As a Payroll Specialist, I want to configure insurance brackets (e.g., health, social, etc) with defined salary ranges and contribution percentages for both employer and employee, so that the system automatically applies the correct insurance deductions during payroll processing in compliance with policy and law. (create draft, edit draft, view all)
           - **Business Rules:**
             - BR 7: The system must identify the social insurances' brackets enforced through Social Insurance and Pensions Law
             - BR 8: The system must calculate employee and employer social insurance contributions according to the local Social Insurance and Pensions Law, with contribution percentages configurable
             - BR 31: The system needs to have a breakdown: Payroll schemas, Payroll areas
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A
           - **Status Management:** Draft status initially, requires HR manager approval before publishing

        ### Subsystem: Payroll Processing & Execution
        **Assumptions for Payroll Processing:**
        1. Paytype: Monthly
        2. Payroll execution: At end of the month
        3. FullTime only Employees
        4. All and same allowances, taxes, insurances will be applied on employees
        5. Gross salary calculation includes base salary

        **Payroll Period Approval - Frontend-Only Workflow:**
        1. The Payroll Specialist views the payroll period on the screen
        2. The Payroll Specialist must explicitly choose Approve Period or Reject Period
           - If rejected, the user edits the period and reviews again
           - If approved, the system internally marks the period as approved (frontend state only)
        3. The Create Payroll Run button stays disabled until a payroll period is displayed and the user has explicitly approved that period
        4. Once the period is approved, the Create Payroll Run button becomes enabled
        5. When the user clicks Create Payroll Run, the frontend sends the approved period to the backend to create the payroll run
        6. The backend receives the already-approved period and creates the payroll run in draft status

        ## ====================
        ## ROLE: LEGAL & POLICY ADMIN
        ## ====================

        ### Subsystem: Payroll Configuration - Compliance
        **Requirements:**
        8. Tax Rules and Laws Configuration
            - **User Stories:**
              - REQ-PY-10: As a legal & policy admin, I want to define tax rules and laws in the system (e.g., progressive tax rates, exemptions, thresholds) so that payroll always complies with current legislation. (create draft, view all)
            - **Business Rules:**
              - BR 5: The system must identify the payroll income taxes' brackets enforced through Local Tax Law
              - BR 6: The system must support multiple tax components (e.g. income tax, exemptions)
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A
            - **Status Management:** Draft status initially, requires payroll manager approval before publishing

        9. Legal Rules Update
            - **User Stories:**
              - REQ-PY-12: As a legal & policy admin, I want to update legal rules when laws change, so that future payroll cycles are compliant without manual intervention. (edit)
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A
            - **Status Management:** Updates to existing configurations follow same approval workflow

        ## ====================
        ## ROLE: SYSTEM ADMIN
        ## ====================

        ### Subsystem: System Configuration
        **Requirements:**
        10. Company-Wide Settings Configuration
             - **User Stories:**
               - REQ-PY-15: As a System Admin, I want to set company-wide settings (like pay dates, time zone, and currency) so payroll runs correctly.
             - **Business Rules:**
               - BR 3: Payroll must be processed within defined cycles (monthly, etc) per contract or region following the local laws
             - **Inputs from Other Sub-Systems:** N/A
             - **Downstream Dependencies:** N/A
             - **Status Management:** Draft status initially

        11. Data Backup Configuration
             - **User Stories:**
               - REQ-PY-16: As a System Admin, I want to back up data regularly so nothing is lost.
             - **Business Rules:** N/A
             - **Inputs from Other Sub-Systems:** N/A
             - **Downstream Dependencies:** N/A
             - **Status Management:** System-level configuration

        ## ====================
        ## ROLE: PAYROLL MANAGER
        ## ====================

        ### Subsystem: Configuration Approval
        **Requirements:**
        12. Payroll System Configuration Approval
             - **User Stories:**
               - REQ-PY-18: As a Payroll Manager, I want to approve payroll module configuration changes so that no unauthorized adjustments impact payroll calculations. (Edit and approve any configuration done so far, and delete except insurance)
             - **Business Rules:** N/A
             - **Inputs from Other Sub-Systems:** N/A
             - **Downstream Dependencies:** N/A
             - **Approval Scope:** All configurations except insurance & company-wide settings
             - **Editing Rules:** Cannot edit after approval - must delete and create new configuration

        ## ====================
        ## ROLE: HR MANAGER
        ## ====================

        ### Subsystem: Insurance Configuration Oversight
        **Requirements:**
        13. Insurance Brackets Review and Update
             - **User Stories:**
               - REQ-PY-22: As an HR Manager, I want to review and update insurance bracket configurations when policies or regulations change, so that payroll calculations remain accurate, compliant, and reflect the most current insurance requirements. (Approve/reject view, Edit, delete)
             - **Business Rules:** N/A
             - **Inputs from Other Sub-Systems:** N/A
             - **Downstream Dependencies:** N/A
             - **Approval Authority:** Exclusive approval authority for insurance bracket configurations

        ## ====================
        ## PAYROLL BUSINESS RULES SUMMARY
        ## ====================

        **Complete List of Business Rules:**
        - BR 1: The system must require an active employment contract with a defined role, type (full-time, part-time, hourly, commission-based, etc.), start/end dates and salary basis before payroll can be processed. Local labor law (Egyptian labor law 2025) need to be followed.
        - BR 2: The system must calculate base salary according to contract terms and role type.
        - BR 3: Payroll must be processed within defined cycles (monthly, etc) per contract or region following the local laws.
        - BR 4: The system must identify the minimum salary bracket(s) enforced through Local Labor Law.
        - BR 5: The system must identify the payroll income taxes' brackets enforced through Local Tax Law.
        - BR 6: The system must support multiple tax components (e.g. income tax, exemptions).
        - BR 7: The system must identify the social insurances' brackets enforced through Social Insurance and Pensions Law.
        - BR 8: The system must calculate employee and employer social insurance contributions according to the local Social Insurance and Pensions Law, with contribution percentages configurable. Employee Insurance = GrossSalary * employee_percentage; Employer Insurance = GrossSalary * employer_percentage
        - BR 9: Payroll Structure must support base pay, allowances, deductions, and other variable pay elements
        - BR 10: The system allows for multiple pay scales configurable by grade, department, or location.
        - BR 11: The system must deduct pay for unpaid leave days based on daily/hourly salary calculations.
        - BR 17: An auto-generated Payslip should be available through the system with a clear breakdown of components.
        - BR 18: Payroll results needs to be reviewed by finance before payment file generation.
        - BR 20: All payroll records must Supports local tax law customization (i.e. as per Egyptian labor law 2025 and other laws' requirements).
        - BR 23: The system must support issuing reports about standard payroll summary, tax reports, and pay slip history.
        - BR 24: Signing bonuses must be processed only for employees flagged as eligible in their contracts (linked through Employee Profile).
        - BR 25: Any manual overrides for signing bonuses must require authorization.
        - BR 26: Termination benefits must not be processed until HR clearance and final approvals are completed.
        - BR 27: Manual adjustments to termination payouts must require Payroll Specialist approval and full system logging.
        - BR 28: The system must ensure a signing bonus is disbursed only once unless explicitly authorized.
        - BR 29: Upon employee termination, the system must automatically calculate termination-related entitlements (e.g., severance pay, end-of-service gratuity, pending compensation) according to contract and local labor law.
        - BR 30: Payroll processing must support multi-step approval workflow: Payroll Specialist → Payroll Manager → Finance Department.
        - BR 31: The system needs to have a breakdown: Payroll schemas, Payroll areas. Payroll Area picks the employees and period; Schema runs the payroll logic for that group.
        - BR 33: The system must apply deductions for misconduct penalties (e.g., lateness, asset damage, disciplinary actions) as configured by HR policy.
        - BR 34: The system must ensure all deductions (taxes, insurance, penalties, unpaid leave, recovery) are applied after gross salary calculation and before net salary.
        - BR 35: The system must calculate net salary as: Gross Salary – Taxes (Tax = % of Base Salary) – Social/Health Insurance
        - BR 36: The system must store all calculation elements (salary base, allowances, taxes, deductions) for auditability and compliance.
        - BR 38: The system must allow defining allowances with multiple types as part of the employment contract and add them to payroll as part of gross salary, defined per role or contract.
        - BR 39: Allowance Structure must support and tracks different types (e.g. transportation, housing, meals, etc).
        - BR 46: Employees are enrolled by default to allowances, insurance, and taxes during onboarding or annual enrollment window. (same for all)
        - BR 56: The system must support signing bonuses as a distinct payroll component, configurable by contract terms (e.g., one-time, etc), and subject to approval workflows.
        - BR 56: Upon employee resignation, the system must automatically calculate resignation-related entitlements according to contract and local labor law.
        - BR 59: The system must generate gross-to-net breakdown reports for employees and management to validate calculations.
        - BR 60: Misconduct penalties must not reduce salary below statutory minimum wages.
        - BR 63: Any payroll initiation or modification (automatic or manual) must go through validation checks (e.g., contract active, no expired approvals, minimum wage compliance) before processing.
        - BR 64: The system needs to be linked to the organization's as well as the employees' accounts to facilitate processing payroll.
        - BR 66: Payroll must not be processed if an employee's contract is expired, inactive, or suspended.

        ## ====================
        ## CROSS-MODULE INTEGRATION
        ## ====================

        **Module Integration Requirements:**
        - Leaves Module: For cases of unapproved leaves, or for encashment of unused annual leave balance for termination. Such unused leaves must be either carried forward to the next fiscal year (if allowed) or converted into compensation, in line with Egyptian Labor Law 2025. Also, to factor in paid and unpaid leave deductions automatically applied based on leave rules.
        - Time Management: To factor in working days/hours, overtime, and absence data directly.
        - Onboarding, Recruitment & Offboarding Module: For sign on bonuses and severance pay and other related items due in either termination or resignation cases.
        - Employee Profile Module: To be linked to employee contracts and any related sign-on bonuses included. Any changes in contracts auto-update salary/payroll.

        ## ====================
        ## CONFIGURATION STATUS MANAGEMENT RULES
        ## ====================

        **General Rules:**
        1. All configurations (except company-wide settings) start in "Draft" status
        2. Draft configurations can be edited
        3. Configurations require appropriate manager approval before publishing:
           - Payroll Manager: Approves all configurations except insurance & company-wide settings
           - HR Manager: Approves insurance bracket configurations
        4. Once approved, configurations cannot be edited directly
        5. To modify approved configurations: Delete existing and create new draft
        6. Company-wide settings have draft status but different approval workflow

        **Approval Workflow Hierarchy:**
        1. Payroll Specialist creates draft configurations
        2. Payroll Manager reviews and approves/rejects configurations (except insurance)
        3. HR Manager reviews and approves/rejects insurance configurations
        4. System Admin manages company-wide settings and data backup
        5. Legal & Policy Admin maintains tax and legal rule configurations



        # HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
        ## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

        ## ====================
        ## ROLE: PAYROLL SPECIALIST
        ## ====================

        ### Subsystem: Pre-Execution Reviews & Approvals (Phase 0)
        **Requirements:**
        1. Signing Bonus Review
           - **User Stories:**
             - REQ-PY-28: As a Payroll Specialist, I want to review and approve processed signing bonuses.
           - **Business Rules:**
             - BR 24: Signing bonuses must be processed only for employees flagged as eligible in their contracts (linked through Employee Profile)
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        2. Signing Bonus Edit
           - **User Stories:**
             - REQ-PY-29: As a Payroll Specialist, I want to manually edit signing bonuses when needed.
           - **Business Rules:**
             - BR 25: Any manual overrides for signing bonuses must require authorization
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        3. Termination and Resignation Benefits Review
           - **User Stories:**
             - REQ-PY-31: As a Payroll Specialist, I want to review and approve processed benefits upon resignation.
           - **Business Rules:**
             - BR 26: Termination benefits must not be processed until HR clearance and final approvals are completed
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        4. Termination and Resignation Benefits Edit
           - **User Stories:**
             - REQ-PY-32: As a Payroll Specialist, I want to manually edit benefits upon resignation when needed.
           - **Business Rules:**
             - BR 27: Manual adjustments to termination payouts must require Payroll Specialist approval and full system logging
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        ### Subsystem: Payroll Initiation & Draft Generation (Phase 1)
        **Requirements:**
        5. Payroll Period Review
           - **User Stories:**
             - REQ-PY-24: As a Payroll Specialist, I want to review and approve processed payroll initiation.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        6. Payroll Period Edit
           - **User Stories:**
             - REQ-PY-26: As a Payroll Specialist, I want to manually edit payroll initiation when needed.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        7. Automatic Payroll Processing
           - **User Stories:**
             - REQ-PY-23: As a Payroll Specialist, I want the system to automatically process payroll initiation.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        8. Payroll Draft Generation
           - **User Stories:**
             - REQ-PY-1: As a Payroll Specialist, I want the system to automatically calculate salaries, allowances, deductions, and contributions based on configured rules so that I don't need to run calculations manually.
           - **Business Rules:**
             - BR 64: The system needs to be linked to the organization's as well as the employees' accounts to facilitate processing payroll
             - BR 63: Any payroll initiation or modification (automatic or manual) must go through validation checks (e.g., contract active, no expired approvals, minimum wage compliance) before processing
             - BR 66: Payroll must not be processed if an employee's contract is expired, inactive, or suspended
             - BR 36: The system must store all calculation elements (salary base, allowances, taxes, deductions) for auditability and compliance
             - BR 31: The system needs to have a breakdown: Payroll schemas, Payroll areas
             - BR 2: The system must calculate base salary according to contract terms and role type
             - BR 46: Employees are enrolled by default to allowances, insurance, and taxes during onboarding or annual enrollment window
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        9. HR Events Check
           - **User Stories:**
             - REQ-PY-2: As a Payroll Specialist, I want the system to calculate prorated salaries (for mid-month hires, terminations) so that payments are accurate for partial periods.
           - **Business Rules:**
             - BR 56: The system must support signing bonuses as a distinct payroll component, configurable by contract terms, and subject to approval workflows
             - BR 29: Upon employee termination, the system must automatically calculate termination-related entitlements (e.g., severance pay, end-of-service gratuity, pending compensation) according to contract and local labor law
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        10. Automatic Signing Bonus Processing
            - **User Stories:**
              - REQ-PY-27: As a Payroll Specialist, I want the system to automatically process signing bonuses.
            - **Business Rules:**
              - BR 28: The system must ensure a signing bonus is disbursed only once unless explicitly authorized
              - BR 24: Signing bonuses must be processed only for employees flagged as eligible in their contracts (linked through Employee Profile)
            - **Inputs from Other Sub-Systems:**
              - Onboarding: Bonus flag/value concept wise
            - **Downstream Dependencies:** N/A

        11. Automatic Resignation and Termination Benefits Processing
            - **User Stories:**
              - REQ-PY-30: As a Payroll Specialist, I want the system to automatically process benefits upon resignation according to business rules & signed contracts.
              - REQ-PY-33: As a Payroll Specialist, I want the system to automatically process benefits upon termination according to business rules & signed contracts.
            - **Business Rules:**
              - BR 29: Upon employee termination, the system must automatically calculate termination-related entitlements according to contract and local labor law
              - BR 31: The system needs to have a breakdown: Payroll schemas, Payroll areas
            - **Inputs from Other Sub-Systems:**
              - Offboarding: Resignation status concept wise
            - **Downstream Dependencies:** N/A

        12. Deductions Calculations
            - **User Stories:**
              - REQ-PY-3: As a Payroll Specialist, I want the system to auto-apply statutory rules (income tax, pension, insurance, labor law deductions) so that compliance is ensured without manual intervention.
            - **Business Rules:**
              - BR 11: The system must deduct pay for unpaid leave days based on daily/hourly salary calculations
              - BR 34: The system must ensure all deductions (taxes, insurance, penalties, unpaid leave, recovery) are applied after gross salary calculation and before net salary
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        13. Final Net Salary Calculation
            - **User Stories:**
              - REQ-PY-4: As a Payroll Specialist, I want the system to generate draft payroll runs automatically at the end of each cycle so that I only need to review.
            - **Business Rules:**
              - BR 1: The system must require an active employment contract with a defined role, type, start/end dates and salary basis before payroll can be processed
              - BR 3: Payroll must be processed within defined cycles (monthly, etc) per contract or region following the local laws
              - BR 9: Payroll Structure must support base pay, allowances, deductions, and other variable pay elements
              - BR 20: All payroll records must support local tax law customization (i.e. as per Egyptian labor law 2025 and other laws' requirements)
              - BR 60: Misconduct penalties must not reduce salary below statutory minimum wages
              - BR 35: The system must calculate net salary as: Gross Salary – Taxes(Tax = % of Base Salary) – Social/Health Insurance
              - BR 31: The system needs to have a breakdown: Payroll schemas, Payroll areas
              - BR 34: The system must ensure all deductions (taxes, insurance, penalties, unpaid leave, recovery) are applied after gross salary calculation and before net salary
            - **Inputs from Other Sub-Systems:**
              - Time Management: Working hours/OT
              - Leaves: Paid/Unpaid leave
            - **Downstream Dependencies:** N/A

        ### Subsystem: Exception Handling (Phase 2)
        **Requirements:**
        14. Irregularity Flagging
            - **User Stories:**
              - REQ-PY-5: As a Payroll Specialist, I want the system to flag irregularities (e.g., sudden salary spikes, missing bank accounts, negative net pay) so that I can take required action.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        ### Subsystem: Review & Approval Workflow (Phase 3)
        **Requirements:**
        15. Payroll Results Review
            - **User Stories:**
              - REQ-PY-6: As a Payroll Specialist, I want to review system-generated payroll results in a preview dashboard so that I can confirm accuracy before finalization.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        16. Approval Request Submission
            - **User Stories:**
              - REQ-PY-12: As a Payroll Specialist, I want to send the payroll run for approval to Manager and Finance before finalization so that payments are not made without validation.
            - **Business Rules:**
              - BR 30: Payroll processing must support multi-step approval workflow: Payroll Specialist → Payroll Manager → Finance Department
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        ### Subsystem: Payslip Generation & Distribution (Phase 4)
        **Requirements:**
        17. Automatic Payslip Generation
            - **User Stories:**
              - REQ-PY-8: As a Payroll Specialist, I want to allow the system to automatically generate and distribute employee payslips (via PDF, email, or portal) so that staff can access their salary details securely.
            - **Business Rules:**
              - BR 17: An auto-generated Payslip should be available through the system with a clear breakdown of components
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        ## ====================
        ## ROLE: PAYROLL MANAGER
        ## ====================

        ### Subsystem: Review & Approval Workflow (Phase 3)
        **Requirements:**
        18. Irregularity Resolution
            - **User Stories:**
              - REQ-PY-20: As a Payroll Manager, I want to resolve escalated irregularities reported by Payroll Specialists so that payroll exceptions are addressed at a higher decision level.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        19. Payroll Draft Review and Approval
            - **User Stories:**
              - REQ-PY-22: As a Payroll Manager, I want to approve payroll runs so that validation is ensured at the managerial level prior to distribution.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        20. Payroll Freeze/Unfreeze
            - **User Stories:**
              - REQ-PY-7: As a Payroll Manager, I want to lock or freeze finalized payroll runs so that no unauthorized retroactive changes are made.
              - REQ-PY-19: As a Payroll Manager, I want the authority to unfreeze payrolls and give reason under exceptional circumstances so that legitimate corrections can still be made even after a payroll has been locked.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        ## ====================
        ## ROLE: FINANCE STAFF
        ## ====================

        ### Subsystem: Review & Approval Workflow (Phase 3)
        **Requirements:**
        21. Payroll Disbursement Approval
            - **User Stories:**
              - REQ-PY-15: As Finance Staff, I want to approve payroll disbursements before execution, so that no incorrect payments are made.
            - **Business Rules:**
              - BR 18: Payroll results needs to be reviewed by finance before payment file generation
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        ## ====================
        ## PAYROLL EXECUTION WORKFLOW
        ## ====================

        **Phase 0: Pre-Execution Reviews & Approvals**
        1. Review and approve signing bonuses [REQ-PY-28]
        2. Edit signing bonuses if needed [REQ-PY-29]
        3. Review and approve termination/resignation benefits [REQ-PY-31]
        4. Edit termination/resignation benefits if needed [REQ-PY-32]

        **Phase 1: Payroll Initiation & Draft Generation**
        1. Review payroll period [REQ-PY-24]
           - If rejected: Edit payroll initiation [REQ-PY-26]
           - If approved: Proceed to automatic processing
        2. Start automatic payroll processing [REQ-PY-23]
        3. Generate payroll draft:
           - Fetch employees and check HR events [REQ-PY-2]
           - Auto-process signing bonuses for new hires [REQ-PY-27]
           - Auto-process resignation/termination benefits [REQ-PY-30, REQ-PY-33]
           - Calculate deductions (taxes, insurance) [REQ-PY-3]
           - Calculate final net salary [REQ-PY-4]
           - Generate draft payroll file [REQ-PY-1]

        **Phase 2: Exception Handling**
        1. System flags irregularities [REQ-PY-5]
        2. Payroll Specialist reviews flagged items

        **Phase 3: Review & Approval Workflow**
        1. Payroll Specialist reviews results in dashboard [REQ-PY-6]
        2. Payroll Specialist sends for approval [REQ-PY-12]
        3. Payroll Manager reviews draft and resolves escalated irregularities [REQ-PY-20]
        4. Payroll Manager approves before distribution [REQ-PY-22]
        5. Finance staff approves disbursement [REQ-PY-15]
        6. Payroll Manager freezes finalized payroll [REQ-PY-7]
           - Can unfreeze with reason if needed [REQ-PY-19]

        **Phase 4: Payslip Generation**
        1. System automatically generates and distributes payslips [REQ-PY-8]
           - Note: Since no bank integration, payment status marked as "Paid" after REQ-PY-15 & REQ-PY-7

        ## ====================
        ## PAYROLL EXECUTION BUSINESS RULES SUMMARY
        ## ====================

        **Key Business Rules for Execution:**
        - BR 1: Active employment contract required before payroll processing
        - BR 2: Calculate base salary according to contract terms and role type
        - BR 3: Process payroll within defined cycles (monthly, etc)
        - BR 9: Payroll Structure must support base pay, allowances, deductions, and other variable pay elements
        - BR 11: Deduct pay for unpaid leave days based on daily/hourly salary calculations
        - BR 17: Auto-generated Payslip available with clear breakdown
        - BR 18: Finance review required before payment file generation
        - BR 20: Support local tax law customization (Egyptian labor law 2025)
        - BR 24: Signing bonuses only for eligible employees (linked through Employee Profile)
        - BR 25: Manual overrides for signing bonuses require authorization
        - BR 26: Termination benefits not processed until HR clearance and final approvals
        - BR 27: Manual adjustments to termination payouts require Payroll Specialist approval and logging
        - BR 28: Signing bonus disbursed only once unless explicitly authorized
        - BR 29: Automatically calculate termination-related entitlements per contract and local labor law
        - BR 30: Multi-step approval workflow: Payroll Specialist → Payroll Manager → Finance Department
        - BR 31: System breakdown: Payroll schemas and Payroll areas
        - BR 33: Apply deductions for misconduct penalties as configured by HR policy
        - BR 34: All deductions applied after gross salary calculation and before net salary
        - BR 35: Net salary = Gross Salary – Taxes – Social/Health Insurance
        - BR 36: Store all calculation elements for auditability and compliance
        - BR 46: Employees enrolled by default to allowances, insurance, and taxes during onboarding
        - BR 56: Support signing bonuses as distinct payroll component with approval workflows
        - BR 56: Automatically calculate resignation-related entitlements per contract and local labor law
        - BR 59: Generate gross-to-net breakdown reports for validation
        - BR 60: Misconduct penalties must not reduce salary below statutory minimum wages
        - BR 63: Validation checks required before processing (contract active, minimum wage compliance, etc.)
        - BR 64: Link to organization's and employees' accounts for processing payroll
        - BR 66: Do not process payroll if contract is expired, inactive, or suspended

        ## ====================
        ## CROSS-MODULE INTEGRATION FOR EXECUTION
        ## ====================

        **Module Integration Requirements:**
        - **Time Management:** Factor in working days/hours, overtime, and absence data directly
        - **Leaves Module:** Handle unapproved leaves, encashment of unused annual leave balance for termination, paid/unpaid leave deductions
        - **Onboarding Module:** Process sign-on bonuses for new hires
        - **Offboarding Module:** Process severance pay and termination/resignation benefits
        - **Employee Profile Module:** Link to employee contracts and sign-on bonuses; auto-update salary/payroll on contract changes
        - **Recruitment Module:** Coordinate sign-on bonuses and other onboarding-related payroll items

        **Integration Points:**
        1. Time Management → Payroll: Working hours, overtime, absence data
        2. Leaves → Payroll: Paid/unpaid leave deductions, leave encashment
        3. Onboarding → Payroll: Signing bonus flags/values
        4. Offboarding → Payroll: Resignation/termination status and benefits
        5. Employee Profile → Payroll: Contract details, salary basis, eligibility flags


        # HUMAN RESOURCE MANAGEMENT SYSTEM (HRMS)
        ## REQUIREMENTS ORGANIZED BY ROLE AND SUBSYSTEM

        ## ====================
        ## ROLE: EMPLOYEE
        ## ====================

        ### Subsystem: Payroll Self-Service (Phase 1)
        **Requirements:**
        1. Payslip View and Download
           - **User Stories:**
             - REQ-PY-1: As an Employee, I want to view and download my payslip online so that I can see my monthly salary
           - **Business Rules:**
             - BR 17: An auto-generated Payslip should be available through the system with a clear breakdown of components
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        2. Payslip Status and Details View
           - **User Stories:**
             - REQ-PY-2: As an Employee, I want to see status and details of my payslip (paid, disputed) so that I know exactly where my salary is in the payroll process and can plan accordingly.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        3. Base Salary View
           - **User Stories:**
             - REQ-PY-3: As an Employee, I want to see my base salary according to my employment contract (full-time, part-time, temporary, etc.), so that I know my standard monthly earnings.
           - **Business Rules:**
             - BR 2: The system must calculate base salary according to contract terms and role type
           - **Inputs from Other Sub-Systems:**
             - Employee Profile: Contract/Job info
           - **Downstream Dependencies:** N/A

        4. Leave Compensation View
           - **User Stories:**
             - REQ-PY-5: As an Employee, I want to see compensation for unused or encashed leave days, so that I understand how my remaining leave converts into pay.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:**
             - Leaves: Encashment calculation
           - **Downstream Dependencies:** N/A

        5. Transportation Compensation View
           - **User Stories:**
             - REQ-PY-7: As an Employee, I want to see transportation or commuting compensation, so that I know my travel-related costs are covered.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        6. Tax Deductions View
           - **User Stories:**
             - REQ-PY-8: As an Employee, I want to see detailed tax deductions (income tax, social contributions, etc.) along with the law or rule applied, so that I understand how my taxable salary is calculated.
           - **Business Rules:**
             - BR 5: The system must identify the payroll income taxes' brackets enforced through Local Tax Law
             - BR 6: The system must support multiple tax components (e.g. income tax, exemptions)
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        7. Insurance Deductions View
           - **User Stories:**
             - REQ-PY-9: As an Employee, I want to see insurance deductions (health, pension, unemployment, etc.) itemized, so that I know what protections are covered by my contributions.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:** N/A
           - **Downstream Dependencies:** N/A

        8. Misconduct/Absenteeism Deductions View
           - **User Stories:**
             - REQ-PY-10: As an Employee, I want to see any salary deductions due to misconduct or unapproved absenteeism, so that I know why part of my salary was reduced.
           - **Business Rules:** N/A
           - **Inputs from Other Sub-Systems:**
             - Time Management: Absenteeism records
           - **Downstream Dependencies:** N/A

        9. Unpaid Leave Deductions View
           - **User Stories:**
             - REQ-PY-11: As an Employee, I want to see deductions for unpaid leave days, so that I understand how my time off affects my salary.
           - **Business Rules:**
             - BR 11: The system must deduct pay for unpaid leave days based on daily/hourly salary calculations
           - **Inputs from Other Sub-Systems:**
             - Leaves: Unpaid leave status
           - **Downstream Dependencies:** N/A

        10. Salary History View
            - **User Stories:**
              - REQ-PY-13: As an Employee, I want to access my salary history so that I can track payments over time.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        11. Employer Contributions View
            - **User Stories:**
              - REQ-PY-14: As an Employee, I want to view employer contributions (insurance, pension, allowances) so that I know my full benefits.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        12. Tax Documents Download
            - **User Stories:**
              - REQ-PY-15: As an Employee, I want to download tax documents (e.g., annual tax statement) so that I can use them for official purposes.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        13. Payroll Error Dispute Submission
            - **User Stories:**
              - REQ-PY-16: As an Employee, I want to dispute payroll errors (like over-deductions or missing bonuses), so that they are corrected promptly.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Disputes and claim approval/rejection workflow

        14. Expense Reimbursement Claim Submission
            - **User Stories:**
              - REQ-PY-17: As an Employee, I want to submit expense reimbursement claims, so that I can recover money I spent on business purposes.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Disputes and claim approval/rejection workflow

        15. Claims and Disputes Tracking
            - **User Stories:**
              - REQ-PY-18: As an Employee, I want to track the approval and payment status of my claims and disputes, so that I know when I'll be reimbursed.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        ## ====================
        ## ROLE: PAYROLL SPECIALIST
        ## ====================

        ### Subsystem: Operational Reports (Phase 2)
        **Requirements:**
        16. Departmental Payroll Reports
            - **User Stories:**
              - REQ-PY-38: As a Payroll Specialist, I want to generate payroll reports by department, so that I can analyze salary distribution and ensure budget alignment.
            - **Business Rules:**
              - BR 23: The system must support issuing reports about standard payroll summary, tax reports, and pay slip history
            - **Inputs from Other Sub-Systems:**
              - Organizational Structure: Cost Center/Entity
            - **Downstream Dependencies:** N/A

        ### Subsystem: Dispute and Claim Approval (Phase 3)
        **Requirements:**
        17. Dispute Review and Initial Approval
            - **User Stories:**
              - REQ-PY-39: As a Payroll Specialist, I want to approve/reject Disputes, so that it can be escalated to payroll manager in case of approval.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Payroll Manager confirmation workflow

        18. Expense Claim Review and Initial Approval
            - **User Stories:**
              - REQ-PY-42: As a Payroll Specialist, I want to approve/reject expense claims, so that it can be escalated to payroll manager in case of approval.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Payroll Manager confirmation workflow

        ## ====================
        ## ROLE: FINANCE STAFF
        ## ====================

        ### Subsystem: Operational Reports (Phase 2)
        **Requirements:**
        19. Month-End and Year-End Payroll Summaries
            - **User Stories:**
              - REQ-PY-29: As Finance Staff, I want to generate month-end and year-end payroll summaries, so that audits and reporting are simplified.
            - **Business Rules:**
              - BR 23: The system must support issuing reports about standard payroll summary, tax reports, and pay slip history
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        20. Tax, Insurance, and Benefits Reports
            - **User Stories:**
              - REQ-PY-25: As Finance Staff, I want to generate reports about taxes, insurance contributions, and benefits, so that accounting books are compliant.
            - **Business Rules:**
              - BR 23: The system must support issuing reports about standard payroll summary, tax reports, and pay slip history
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A

        ### Subsystem: Dispute and Claim Notification (Phase 3)
        **Requirements:**
        21. Approved Dispute Notification and View
            - **User Stories:**
              - REQ-PY-41: As Finance Staff, I want to view and get notified with approved Disputes, so that adjustments can be done.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Refund Process

        22. Approved Expense Claim Notification and View
            - **User Stories:**
              - REQ-PY-44: As Finance Staff, I want to view and get notified with approved expense claims, so that adjustments can be done.
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Refund Process

        ### Subsystem: Refund Process (Phase 4)
        **Requirements:**
        23. Dispute Refund Generation
            - **User Stories:**
              - REQ-PY-45: As Finance Staff I want to generate refund for Disputes on approval so that it will be included in next payroll cycle
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A
            - **Refund Status:** Pending until executed in payroll cycle

        24. Expense Claim Refund Generation
            - **User Stories:**
              - REQ-PY-46: As Finance Staff, I want to generate refund for Expense claims on approval so that it will be included in next payroll cycle
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:** N/A
            - **Refund Status:** Pending until executed in payroll cycle

        ## ====================
        ## ROLE: PAYROLL MANAGER
        ## ====================

        ### Subsystem: Dispute and Claim Approval (Phase 3)
        **Requirements:**
        25. Dispute Approval Confirmation
            - **User Stories:**
              - REQ-PY-40: As Payroll Manager, I want to confirm approval of Disputes, so that finance staff can be notified. (multi-step approval)
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Finance staff notification
            - **Approval Workflow:** Only approved disputes from Payroll Specialist reach Payroll Manager

        26. Expense Claim Approval Confirmation
            - **User Stories:**
              - REQ-PY-43: As Payroll Manager, I want to confirm approval of expense claims, so that finance staff can be notified. (multi-step approval)
            - **Business Rules:** N/A
            - **Inputs from Other Sub-Systems:** N/A
            - **Downstream Dependencies:**
              - Finance staff notification
            - **Approval Workflow:** Only approved claims from Payroll Specialist reach Payroll Manager

        ## ====================
        ## PAYROLL TRACKING WORKFLOW
        ## ====================

        **Phase 1: Employee Self-Service**
        1. Employee views/downloads payslip [REQ-PY-1, REQ-PY-2]
        2. Employee views base salary [REQ-PY-3]
        3. Employee views various compensation and deductions:
           - Leave compensation [REQ-PY-5]
           - Transportation compensation [REQ-PY-7]
           - Tax deductions [REQ-PY-8]
           - Insurance deductions [REQ-PY-9]
           - Misconduct/absenteeism deductions [REQ-PY-10]
           - Unpaid leave deductions [REQ-PY-11]
        4. Employee views salary history [REQ-PY-13]
        5. Employee views employer contributions [REQ-PY-14]
        6. Employee downloads tax documents [REQ-PY-15]
        7. Employee submits disputes [REQ-PY-16] or expense claims [REQ-PY-17]
        8. Employee tracks claim/dispute status [REQ-PY-18]

        **Phase 2: Operational Reports**
        1. Payroll Specialist generates departmental reports [REQ-PY-38]
        2. Finance staff generates month-end/year-end summaries [REQ-PY-29]
        3. Finance staff generates tax/insurance/benefits reports [REQ-PY-25]

        **Phase 3: Disputes and Claim Approval/Rejection (Multi-Step Workflow)**
        **For Disputes:**
        1. Payroll Specialist reviews and approves/rejects dispute [REQ-PY-39]
        2. If approved, dispute goes to Payroll Manager for confirmation [REQ-PY-40]
        3. If confirmed by Payroll Manager, Finance staff gets notified [REQ-PY-41]

        **For Expense Claims:**
        1. Payroll Specialist reviews and approves/rejects claim [REQ-PY-42]
        2. If approved, claim goes to Payroll Manager for confirmation [REQ-PY-43]
        3. If confirmed by Payroll Manager, Finance staff gets notified [REQ-PY-44]

        **Phase 4: Refund Process**
        1. Finance staff generates refund for approved disputes [REQ-PY-45]
        2. Finance staff generates refund for approved expense claims [REQ-PY-46]
        3. Refunds marked as "pending" until executed in next payroll cycle

        ## ====================
        ## PAYROLL TRACKING BUSINESS RULES SUMMARY
        ## ====================

        **Key Business Rules:**
        - BR 2: The system must calculate base salary according to contract terms and role type
        - BR 5: The system must identify the payroll income taxes' brackets enforced through Local Tax Law
        - BR 6: The system must support multiple tax components (e.g. income tax, exemptions)
        - BR 11: The system must deduct pay for unpaid leave days based on daily/hourly salary calculations
        - BR 17: An auto-generated Payslip should be available through the system with a clear breakdown of components
        - BR 23: The system must support issuing reports about standard payroll summary, tax reports, and pay slip history

        ## ====================
        ## CROSS-MODULE INTEGRATION FOR TRACKING
        ## ====================

        **Module Integration Requirements:**
        - **Employee Profile Module:** Provides contract/job information for base salary display [REQ-PY-3]
        - **Leaves Module:** Provides encashment calculations and unpaid leave status [REQ-PY-5, REQ-PY-11]
        - **Time Management Module:** Provides absenteeism records for misconduct deductions [REQ-PY-10]
        - **Organizational Structure Module:** Provides cost center/entity data for departmental reports [REQ-PY-38]

        **Integration Points:**
        1. Employee Profile → Payroll Tracking: Contract details for base salary display
        2. Leaves → Payroll Tracking: Leave encashment and unpaid leave status
        3. Time Management → Payroll Tracking: Absenteeism records
        4. Organizational Structure → Payroll Tracking: Department/cost center information for reporting

        **Full HRMS Integration Context:**
        - **Leaves Module:** For cases of unapproved leaves, or for encashment of unused annual leave balance for termination. Such unused leaves must be either carried forward to the next fiscal year (if allowed) or converted into compensation, in line with Egyptian Labor Law 2025. Also, to factor in paid and unpaid leave deductions automatically applied based on leave rules.
        - **Time Management:** To factor in working days/hours, overtime, and absence data directly.
        - **Onboarding, Recruitment & Offboarding Module:** For sign on bonuses and severance pay and other related items due in either termination or resignation cases.
        - **Employee Profile Module:** To be linked to employee contracts and any related sign-on bonuses included. Any changes in contracts auto-update salary/payroll.