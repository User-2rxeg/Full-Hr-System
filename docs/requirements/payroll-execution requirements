Payroll  Execution
Phase	Requirement Name	User Stories Needed (IDs/titles)	Inputs Needed from Other Sub‑Systems	Downstream Sub‑Systems Depending on This Output	Key BRs (IDs)


0. Needed reviews/approvals before start of payroll initiation	Signing bonus review (approve or reject)	REQ-PY-28	N/A	N/A	BR 24

	Signing bonus edit (givenAmount in the schema )	REQ-PY-29	N/A	N/A	BR 25


	Termination and Resignation benefits review/ (approve or reject)	REQ-PY-31	N/A	N/A	BR 26


	Termination and Resignation benefits edit (givenAmount in the schema )	REQ-PY-32	N/A	N/A	BR 27

1. Intiate Run => goal: draft version of payroll	Review Payroll period ( Approve or Reject) (see flow below to handle it using only Frontend)	REQ-PY-24	N/A	N/A	N/A

	Edit payroll initiation (period) if rejected	REQ-PY-26	N/A	N/A	N/A

	Start Automatic processing of payroll initiation 	REQ-PY-23	N/A	N/A	N/A

1.1. Payroll Draft Generation		REQ-PY-1			BR 64,BR 63,BR 66, BR 36, BR 31, BR 2, BR 46


1.1.A.  Fetch employees  and check for Hr Events (newhire(probabtion), terminated/resigned), refunds	Check Hr Events (new hire, termination,resigned)	REQ-PY-2	N/A	N/A	BR 56,BR2 9

	Auto processes signing bonus in case of new hire	REQ-PY-27	Onboarding (Bonus flag/value)concept wise 	N/A	BR 28, BR 24

	Auto process resignation and termination benefits	REQ-PY-30	Offboarding (Resignation status) concept wise 	N/A	BR 29, BR 31


1.1.B Salary calculations (Gross to Net) Gross based on PayGrade	Deductions calculations (taxes(Tax = % of Base Salary), insurance)  = Net salary	REQ-PY-3	N/A	N/A	BR 11, BR 34

	Salary calculation netPay=(Net - Penalties:(missing working hours/ days)+  refunds (if available) )	need all previos	Time Management (Working hours/OT); Leaves (Paid/Unpaid leave)	N/A	BR 1, BR 3, BR 9, BR 20, BR 60, BR 35 , BR 31, BR 34


1.1.C Payroll Draft file	Darft generatation	REQ-PY-4	N/A	N/A	BR 9


2. Exceptions => goal : payroll becomes under review	Flag irregularities (e.g., sudden salary spikes, missing bank accounts, negative net pay) 	REQ-PY-5	N/A	N/A	N/A


3. Review and Approval for each  under review payroll  => goal freeze	Payroll specialist Review system-generated payroll results in a preview dashboard	REQ-PY-6	N/A	N/A	N/A


	Manager and finance (approval need) send for approval (publish it from their side)	REQ-PY-12	N/A	N/A	BR 30


	Payroll Manager Review payroll draft &  view , Resolve escalated irregularities	REQ-PY-20	N/A	N/A	N/A


	Payroll  Manger Approval before distribution approval	REQ-PY-22	N/A	N/A	N/A


	Finance staff  Approvall payroll distribution so payments status is Paid	REQ-PY-15	N/A	N/A	BR 18


	Payroll Manager view, lock and freeaze finalized payroll	REQ-PY-7	N/A	N/A	N/A


	Payroll Manager unfreeze payrolls after entering the reason	REQ-PY-19	N/A	N/A	N/A


4. Payslips Generation 	System automatically generate and distribute employee payslips after REQ-PY-15& REQ-PY-7 so payment status is paid since we dont handle integration with bank system. So payroll specialist can view them 	REQ-PY-8	N/A	N/A	BR 17






Payroll Processing & Execution
User Story ID	User Story Description
REQ-PY-1	As a Payroll Specialist, I want the system to automatically calculate salaries, allowances, deductions, and contributions based on configured rules so that I don’t need to run calculations manually.
REQ-PY-2	As a Payroll Specialist, I want the system to calculate prorated salaries (for mid-month hires, terminations) so that payments are accurate for partial periods.
REQ-PY-3	As a Payroll Specialist, I want the system to auto-apply statutory rules (income tax, pension, insurance, labor law deductions) so that compliance is ensured without manual intervention.
REQ-PY-4	As a Payroll Specialist, I want the system to generate draft payroll runs automatically at the end of each cycle so that I only need to review .
REQ-PY-5	As a Payroll Specialist, I want the system to flag irregularities (e.g., sudden salary spikes, missing bank accounts, negative net pay) so that I can take required action.
REQ-PY-6	As a Payroll Specialist, I want to review system-generated payroll results in a preview dashboard so that I can confirm accuracy before finalization.
REQ-PY-7	As a Payroll Manager, I want to lock or freeze finalized payroll runs so that no unauthorized retroactive changes are made.
REQ-PY-8	As a Payroll Specialist, I want to allow the system to automatically generate and distribute employee payslips (via PDF, email, or portal) so that staff can access their salary details securely.
REQ-PY-12	As a Payroll Specialist, I want to send the payroll run for approval to Manager and Finance before finalization so that payments are not made without validation.
REQ-PY-15	As Finance Staff, I want to approve payroll disbursements before execution, so that no incorrect payments are made.
REQ-PY-19	As a Payroll Manager, I want the authority to unfreeze payrolls and give reason under exceptional circumstances so that legitimate corrections can still be made even after a payroll has been locked.
REQ-PY-20	As a Payroll Manager, I want to resolve escalated irregularities reported by Payroll Specialists so that payroll exceptions are addressed at a higher decision level.
REQ-PY-22	As a Payroll Manager, I want to approve payroll runs so that validation is ensured at the managerial level prior to distribution.
REQ-PY-23	As a Payroll Specialist, I want the system to automatically process payroll initiation.
REQ-PY-24	As a Payroll Specialist, I want to review and approve processed payroll initiation.
REQ-PY-26	As a Payroll Specialist, I want to manually edit payroll initiation when needed.
REQ-PY-27	As a Payroll Specialist, I want the system to automatically process signing bonuses.
REQ-PY-28	As a Payroll Specialist, I want to review and approve processed signing bonuses.
REQ-PY-29	As a Payroll Specialist, I want to manually edit signing bonuses when needed.
REQ-PY-30	As a Payroll Specialist, I want the system to automatically process benefits upon resignation according to business rules & signed contracts.
REQ-PY-31	As a Payroll Specialist, I want to review and approve processed benefits upon resignation.
REQ-PY-32	As a Payroll Specialist, I want to manually edit benefits upon resignation when needed.
REQ-PY-33	As a Payroll Specialist, I want the system to automatically process benefits upon termination according to business rules & signed contracts.





Entire payroll Business Rules including tracking and configuration, only use numbered in execution requirements for execution

BR ID	BR Description
1	The system must require an active employment contract with a defined role, type (full-time, part-time, hourly, commission-based, etc.), start/end dates and salary basis before payroll can be processed. Local labor law (Egyptian labor law 2025) need to be followed.
2	The system must calculate base salary according to contract terms and role type.
3	Payroll must be processed within defined cycles (monthly,etc) per contract or region following the local laws.
4	The system must identify the minimum salary bracket(s) enforced through Local Labor Law.
5	The system must identify the payroll income taxes’ brackets enforced through Local Tax Law.
6	The system must support multiple tax components (e.g. income tax, exemptions).
7	The system must identify the social insurances’ brackets enforced through Social Insurance and Pensions Law.
8	"The system must calculate employee and employer social insurance contributions according to the local Social Insurance and Pensions Law, with contribution percentages configurable. The same needs to be applied for the state-based Health Insurance system.               Employee Insurance = GrossSalary * employee_percentage
Employer Insurance = GrossSalary * employer_percentage"
9	Payroll Structure must support base pay, allowances, deductions, and other variable pay elements
10	The system allows for multiple pay scales configurable by grade, department, or location.
11	The system must deduct pay for unpaid leave days based on daily/hourly salary calculations.
17	An auto-generated Payslip should be available through the system with a clear breakdown of components.
18	Payroll results needs to be reviewed by finance before payment file generation.
20	All payroll records must Supports local tax law customization (i.e. as per Egyptian labor law 2025 and other laws’ requirements).
23	The system must support issuing reports about standard payroll summary, tax reports, and pay slip history.
31	"The system needs to have a breakdown. One proposed is: Payroll schemas, Payroll areas. The organization may select to activate, or edit some
                 A. Payroll Area, which is the batch of people for which payroll runs at the same time,
                 B. Payroll Schemas, which is the payroll logic (i.e. set of rules and operations that define how the payroll should be processed for employees, like the recipe/logic the payroll is composed of.
Our Formula : [Net Salary =Gross Salary(base pay+ allowances) – Taxes – Social/ Health Insurance – Other Deductions.])
The system follows the two steps accordingly:
                     ● Payroll Area picks the employees and period.
                     ● Schema runs the payroll logic for that group. "
33	The system must apply deductions for misconduct penalties (e.g., lateness, asset damage, disciplinary actions) as configured by HR policy, consistent with Egyptian
34	The system must ensure all deductions (taxes, insurance, penalties, unpaid leave, recovery) are applied after gross salary calculation and before net salary.
35	The system must calculate net salary as: Gross Salary – Taxes(Tax = % of Base Salary) – Social/Health Insurance
36	The system must store all calculation elements (salary base, allowances, taxes, deductions) for auditability and compliance.
38	The system must allow defining allowances with multiple types as part of the employment contract and add them to payroll as part of gross salary, defined per role or contract.
39	Allowance Structure must support and tracks different types (e.g. transportation, housing, meals, etc).
46	Employees are enrolled by default to allowances, insurance, and taxes during onboarding or annual enrollment window. (same for all)
56	The system must support signing bonuses as a distinct payroll component, configurable by contract terms (e.g., one-time,etc ), and subject to approval workflows.
24	Signing bonuses must be processed only for employees flagged as eligible in their contracts (linked through Employee Profile).
28	The system must ensure a signing bonus is disbursed only once unless explicitly authorized.
25	Any manual overrides for signing bonuses must require authorization.
56	"Upon employee resignation, the system must automatically calculate:  resignation-related entitlements (e.g., accrued leave payout, service completion benefits, pending allowances) according to contract and local labor law. And end-of-service benefits (gratuity, accrued leave encashment, pending allowances) according to company policy and labor law.
"
26	Termination benefits must not be processed until HR clearance and final approvals are completed.
27	Manual adjustments to termination payouts must require Payroll Specialist approval and full system logging.
29	Upon employee termination, the system must automatically calculate termination-related entitlements (e.g., severance pay, end-of-service gratuity, pending compensation) according to contract and local labor law.
66	Payroll must not be processed if an employee’s contract is expired, inactive, or suspended.
30	Payroll processing must support multi-step approval workflow: Payroll Specialist → Payroll Manager → Finance Department.
59	The system must generate gross-to-net breakdown reports for employees and management to validate calculations.
60	Misconduct penalties must not reduce salary below statutory minimum wages.
63	Any payroll initiation or modification (automatic or manual) must go through validation checks (e.g., contract active, no expired approvals, minimum wage compliance) before processing.
64	The system needs to be linked to the organization’s as well as the employees’ accounts to facilitate processing payroll.
"The module must be integrated with other HRMS modules as the:
● Leaves Module: for cases of unapproved leaves, or for encashment of unused annual leave balance for termination. Such unused leaves must be either carried forward to the next fiscal year (if allowed) or converted into compensation, in line with Egyptian Labor Law 2025. Also, to factor in paid and unpaid leave deductions automatically applied based on leave rules.
● Time Management: to factor in working days/hours, overtime, and absence data directly.
● Onboarding, Recruitment & Off boarding Module: for sign on bonuses and severance pay and other related items due in either termination or resignation cases
● Employee Profile Module, to be linked to employee contracts and any related sign-on bonuses included. Any changes in contracts auto-update salary/payroll. "