Payroll Configuration & Policy Setup
Phase	Requirement Name	User Stories Needed (IDs/titles)	Inputs Needed from Other Sub‑Systems	Downstream Sub‑Systems Depending on This Output	Key BRs (IDs)


1. Define structure (all configuration should have status Draft meaning it needs payroll manger approval before any publishing so when creating the status is draft and editing is allowed in case of draft status only  )	Payroll policies configuration (Create , Edit ,View)  status :draft	REQ-PY-1	N/A	N/A	BR 1, BR 9


Pay grades(Position ,Gross Salary= base Pay+ allowances) configuration : (Create , Edit ,View)  status :draft	REQ-PY-2	Organizational Structure (Job Grade/Band) concept only 	N/A	BR 10, BR 31

Pay types configuration (Create , Edit ,View)  status :draft	REQ-PY-5	N/A	N/A	BR 1, BR 2

Allowance configuration (Create , Edit ,View)  status :draft	REQ-PY-7	N/A	N/A	BR9 ,BR 39

Signing Bonuses and Payroll initiation configuration (Create , Edit ,View)  status :draft	REQ-PY-19	Onboarding (Contract details) concept only 	Onboarding (Contract details) 	BR 56

Resignation and termination compensations and benefits and their terms configuration (Create , Edit ,View)  status :draft	REQ-PY-20	Offboarding (Severance rules/terms)concept only 	Offboarding (Severance rules/terms)	N/A


2. Embed Compliance (all configuration (except company wide settings )should have status Draft meaning it needs payroll manger approval  or Hr manger depending on type of configuration before any publishing so when creating the status is draft and editing is allowed in case of draft status only  )	Tax rules and laws (e.g., progressive tax rates, exemptions, threshold) configuration   (Create ,View)  status :draft	REQ-PY-10	N/A	N/A	BR 5, BR 6

Legal rules update when laws change (Edit)	REQ-PY-12	N/A	N/A	N/A

Different Insurance brackets configuration with defined salary ranges and contribution percentages for both employer and employee  (Create , Edit ,View)  status :draft	REQ-PY-21 	N/A	N/A	BR 7, BR 8, BR 31


3. Configure system	Company-wide settings configuration  (like pay dates, time zone, and currency) ( Create , Edit ,View)  status : draft	REQ-PY-15	N/A	N/A	BR 3
	Back up data regularly	REQ-PY-16	N/A	N/A	N/A


4. Approve Configuration(even payroll manager can not edit after it's approved so only way is to delete then specialist can create a new one)	Payroll System configuration approval/rejection  (View,Edit, Approve/reject, delete) execluding insurance &Company wide settings 	REQ-PY-18	N/A	N/A	N/A



5. HR oversight	Review and update insurance brackets configuration (approve/rejecet ,Edit, View, delete)	REQ-PY-22	N/A	N/A	N/A







Payroll Configuration & Policy Setup		Assumptions	Payroll Period Approval – Frontend-Only Workflow
User Story ID	User Story Description
REQ-PY-1	As a Payroll Specialist, I want to configure company-level payroll policies (e.g., basic salary types, misconduct penalties, leave policies, allowance) so that the system enforces organizational rules consistently. (create draft, edit draft,view all)	1. paytype: monthly	1. The Payroll Specialist views the payroll period on the screen
REQ-PY-2	As a Payroll Specialist, I want to define pay grades, salary, and compensation limits so that managers and payroll specialists cannot exceed policy boundaries. (create draft, edit draft,view all) for department and position	2. payroll execution: at end of the month	"2. The Payroll Specialist  must explicitly choose Approve Period or Reject Period.

If rejected, the user edits the period and reviews again.

If approved, the system internally marks the period as approved (frontend state only)."
REQ-PY-5	As a Payroll Specialist, I want the system to define employee pay types (hourly, daily, weekly, monthly, contract-based) so that salaries are calculated according to the employment agreement.(create draft, edit draft,view all)	3. FullTime only Employees	"3. The Create Payroll Run button stays disabled until:
a payroll period is displayed, and the user has explicitly approved that period."
REQ-PY-7	As a Payroll Specialist, I want to set  allowances (e.g., transportation, housing, etc) so that employees are rewarded for special conditions.	4. all and same allowances, taxes, insurances will be applied on employees	4. Once the period is approved, the Create Payroll Run button becomes enabled.
REQ-PY-10	As a legal & policy admin, I want to define tax rules and laws in the system (e.g., progressive tax rates, exemptions, thresholds) so that payroll always complies with current legislation.(create draft,draft,view all)	5. You can now calculate gross salary since we included base salary 	5. When the user clicks Create Payroll Run, the frontend sends the approved period to the backend to create the payroll run.
REQ-PY-12	As a legal & policy admin, I want to update legal rules when laws change, so that future payroll cycles are compliant without manual intervention.  (edit )		6. The backend receives the already-approved period and creates the payroll run in draft status.
REQ-PY-15	As a System Admin, I want to set company-wide settings (like pay dates, time zone, and currency) so payroll runs correctly.
REQ-PY-16	As a System Admin, I want to back up data regularly so nothing is lost.
REQ-PY-18	As a Payroll Manager, I want to approve payroll module configuration changes so that no unauthorized adjustments impact payroll calculations.   (  Edit and approve any configuration done so far, and delete except insurance)
REQ-PY-19	As a Payroll Specialist, I want to configure policies for signing bonuses, so that new hires are seamlessly incorporated into the company’s payroll system. (create draft, edit draft,view all)
REQ-PY-20	As a Payroll Specialist, I want to configure resignation and termination benefits and their terms, so that the offboarding process for employees is seamless and legally compliant. (create draft, edit draft,view all)
REQ-PY-21	As a Payroll Specialist, I want to configure insurance brackets (e.g., health, social, etc) with defined salary ranges and contribution percentages for both employer and employee, so that the system automatically applies the correct insurance deductions during payroll processing in compliance with policy and law.(create draft, edit draft,view all)
REQ-PY-22	As an HR Manager, I want to review and update insurance bracket configurations when policies or regulations change, so that payroll calculations remain accurate, compliant, and reflect the most current insurance requirements.   (Approve/ reject view,Edit, delete)
Payroll Processing & Execution


Entire payroll Business Rules including payroll tracking and execution, only use numbered in configuration for configuration :


BR ID	BR Description
1	The system must require an active employment contract with a defined role, type (full-time, part-time, hourly, commission-based, etc.), start/end dates and salary basis before payroll can be processed. Local labor law (Egyptian labor law 2025) need to be followed.
2	The system must calculate base salary according to contract terms and role type.
3	Payroll must be processed within defined cycles (monthly,etc) per contract or region following the local laws.
4	The system must identify the minimum salary bracket(s) enforced through Local Labor Law.
5	The system must identify the payroll income taxes’ brackets enforced through Local Tax Law.
6	The system must support multiple tax components (e.g. income tax, exemptions).
7	The system must identify the social insurances’ brackets enforced through Social Insurance and Pensions Law.
8	"The system must calculate employee and employer social insurance contributions according to the local Social Insurance and Pensions Law, with contribution percentages configurable. The same needs to be applied for the state-based Health Insurance system.               Employee Insurance = GrossSalary * employee_percentage
Employer Insurance = GrossSalary * employer_percentage"
9	Payroll Structure must support base pay, allowances, deductions, and other variable pay elements
10	The system allows for multiple pay scales configurable by grade, department, or location.
11	The system must deduct pay for unpaid leave days based on daily/hourly salary calculations.
17	An auto-generated Payslip should be available through the system with a clear breakdown of components.
18	Payroll results needs to be reviewed by finance before payment file generation.
20	All payroll records must Supports local tax law customization (i.e. as per Egyptian labor law 2025 and other laws’ requirements).
23	The system must support issuing reports about standard payroll summary, tax reports, and pay slip history.
31	"The system needs to have a breakdown. One proposed is: Payroll schemas, Payroll areas. The organization may select to activate, or edit some
                 A. Payroll Area, which is the batch of people for which payroll runs at the same time,
                 B. Payroll Schemas, which is the payroll logic (i.e. set of rules and operations that define how the payroll should be processed for employees, like the recipe/logic the payroll is composed of.
Our Formula : [Net Salary =Gross Salary(base pay+ allowances) – Taxes – Social/ Health Insurance – Other Deductions.])
The system follows the two steps accordingly:
                     ● Payroll Area picks the employees and period.
                     ● Schema runs the payroll logic for that group. "
33	The system must apply deductions for misconduct penalties (e.g., lateness, asset damage, disciplinary actions) as configured by HR policy, consistent with Egyptian
34	The system must ensure all deductions (taxes, insurance, penalties, unpaid leave, recovery) are applied after gross salary calculation and before net salary.
35	The system must calculate net salary as: Gross Salary – Taxes(Tax = % of Base Salary) – Social/Health Insurance
36	The system must store all calculation elements (salary base, allowances, taxes, deductions) for auditability and compliance.
38	The system must allow defining allowances with multiple types as part of the employment contract and add them to payroll as part of gross salary, defined per role or contract.
39	Allowance Structure must support and tracks different types (e.g. transportation, housing, meals, etc).
46	Employees are enrolled by default to allowances, insurance, and taxes during onboarding or annual enrollment window. (same for all)
56	The system must support signing bonuses as a distinct payroll component, configurable by contract terms (e.g., one-time,etc ), and subject to approval workflows.
24	Signing bonuses must be processed only for employees flagged as eligible in their contracts (linked through Employee Profile).
28	The system must ensure a signing bonus is disbursed only once unless explicitly authorized.
25	Any manual overrides for signing bonuses must require authorization.
56	"Upon employee resignation, the system must automatically calculate:  resignation-related entitlements (e.g., accrued leave payout, service completion benefits, pending allowances) according to contract and local labor law. And end-of-service benefits (gratuity, accrued leave encashment, pending allowances) according to company policy and labor law.
"
26	Termination benefits must not be processed until HR clearance and final approvals are completed.
27	Manual adjustments to termination payouts must require Payroll Specialist approval and full system logging.
29	Upon employee termination, the system must automatically calculate termination-related entitlements (e.g., severance pay, end-of-service gratuity, pending compensation) according to contract and local labor law.
66	Payroll must not be processed if an employee’s contract is expired, inactive, or suspended.
30	Payroll processing must support multi-step approval workflow: Payroll Specialist → Payroll Manager → Finance Department.
59	The system must generate gross-to-net breakdown reports for employees and management to validate calculations.
60	Misconduct penalties must not reduce salary below statutory minimum wages.
63	Any payroll initiation or modification (automatic or manual) must go through validation checks (e.g., contract active, no expired approvals, minimum wage compliance) before processing.
64	The system needs to be linked to the organization’s as well as the employees’ accounts to facilitate processing payroll.
"The module must be integrated with other HRMS modules as the:
● Leaves Module: for cases of unapproved leaves, or for encashment of unused annual leave balance for termination. Such unused leaves must be either carried forward to the next fiscal year (if allowed) or converted into compensation, in line with Egyptian Labor Law 2025. Also, to factor in paid and unpaid leave deductions automatically applied based on leave rules.
● Time Management: to factor in working days/hours, overtime, and absence data directly.
● Onboarding, Recruitment & Off boarding Module: for sign on bonuses and severance pay and other related items due in either termination or resignation cases
● Employee Profile Module, to be linked to employee contracts and any related sign-on bonuses included. Any changes in contracts auto-update salary/payroll. "